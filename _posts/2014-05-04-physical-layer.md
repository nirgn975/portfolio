---
title: 'The Physical Layer - השכבה הפיזית'
author: nirgn
layout: post
summary: "פוסט זה מתמקד באחת השכבות מהמודל שהצגנו בפוסט הקודם, אנו מתחילים מהשכבה הראשונה (מלמטה), הלא היא השכבה הפיזית."
category: Computer Networks
---
פוסט זה מתמקד באחת השכבות מהמודל שהצגנו בפוסט הקודם, אנו מתחילים מהשכבה הראשונה (מלמטה), הלא היא השכבה הפיזית.  
בפוסט אבצע סקירה מלאה של השכבה ואפרט את הנושאים הבאים:

  1. הבסיס התיאורטי של תקשורת הנתונים.
  2. התמסורת.
  3. תמסורת אלחוטית.
  4. תקשורת לווינים.
  5. אפנון וריבוב דיגיטליים.
  6. רשת הטלפוניה הציבורית.
  7. מערכת הטלפוניה הסלולרית (תאית).
  8. טלוויזיה וכבלים.

<!--more-->

&nbsp;

### אז לפני שאנחנו מתחילים, מהי השכבה הפיזית?

השכבה הפיזית מגדירה את החשמל, הזמן ועוד ממשקים שונים בהם הביטים (bits) נשלחים כאותות (signals) על ערוצי תקשורת (channels). השכבה הנ"ל הינה הבסיס עליו בנויה הרשת.

מידע יכול לעבור על גבי חוטים באמצעות נכסים פיזיים שונים כמו מתח או זרם, ועל ידי ייצוג שונה של ערכים במתח או בזרם באמצעות פונקציה בעלת ערך אחד של זמן, נקרא לה (f(t, אנחנו יכולים למדל את ההתנהגות של האות ולנתח אותו מתמטית.

&nbsp;

### 1. הבסיס התיאורטי של תקשורת הנתונים

**טורי פורייה**  
דבר ראשון, חשוב להבין כי ניתן לקודד מידע ספרתי באמצעות ערכים בדידים כפונקציה של הזמן. לדוגמה, שידור ברמת מתח אחת ייצג את הסיבית 1 ושידור ברמת מתח אחרת ייצג את הסיבית 0 (לא רמת מתח 0 - אין מתח).

סיפורנו מתחיל בתחילת המאה ה-19, כשהמתמטקאי הצרפתי [Jean-Baptiste Fourier](http://en.wikipedia.org/wiki/Joseph_Fourier) הוכיח כי כל פונקציה מחזורית בעלת מחזור שאורכו T, ניתנת לפירוק כסכום (אינסופי) של פונקציות סינוס וקוסינוס. לפיכך, אם נתייחס אל הגל האנלוגי שנוצר כאל פונקציה מחזורית אינסופית (g(t (כלומר פונ' הבנויה מתבנית בסיסית החוזרת על עצמה מידי T שניות) נוכל, באמצעות התאוריה של פורייה לקרב את הפונ' באמצעות סכום סופי של פונקציות גל (סינוסים וקוסינוסים) בתדרים שונים ו[אמפליטודות](http://he.wikipedia.org/wiki/%D7%9E%D7%A9%D7%A8%D7%A2%D7%AA) שונות (ככל שנסכום יותר איברים בפיתוח פורייה, כך נקבל פונ' קרובה יותר לפונ' המקורית, (g(t).

&nbsp;

**הגבלת רוחב הפס של האותות**
כמה מושגים יבשים להמשך:

  * **רוחב פס (bandwidth) -** למהנדסי אלקטרוניקה: זהו תחום התדרים שניתן להעביר בערוץ, רוחב זה נמדד ביחידות של הרץ (Hetz). רוחב הפס יכול להיות מוגבל בצורה מלאכותית (ע"י מסננים המונעים העברה של תחומי תדרים מסויימים, כפי שבזק ביצעה ברשת הטלפוניה שלה בשנות ה-90), או בצורה טבעית (תכונה של הערוץ הגורמת לעיוות אותות מעל תדר מסוים עד כדי שאינם ניתנין לשחזור). למהנדסי מחשבים, רוחב פס זהו קצב הנתונים המירבי של הערוץ, ונמדד ביחידות של bits/sec (ראשי תיבות: bps).
  * **קצב השידור בערוץ (transmission rate) -** כמה סיביות ניתן לשדר בערוץ במשך שניה אחת. שימו לב כי קצב השידור תלוי במרחק בין התחנות, במהירות האיתות (מספר הפעמים בשניה שהאות המשודר יכול לשנות את ערכו), ובמספר האותות המשמשים לשידור הנתונים. קצב זה נמדד ביחידות של סיביות לשניה (bps).
  * **מידע דיגיטלי -** מידע שיכול לקבל ערך מתוך קבוצה סופית של ערכים (לדוגמה מספר טלפון, ציון בבחינה וכד').
  * **מידע בינארי -** מקרה פרטי של מידע דיגיטלי, מידע בינארי יכול לקבל ערכים מתוך קבוצה של שני ערכים בלבד (כבוי/דולק, זכר/נקבה, 1/0).
  * **מידע אנלוגי -** מידע היכול לקבל ערך מתוך קבוצה רציפה של ערכים (לדוגמה גל קול).

<div class="left">
  <img src="/images/posts/the-physical-layer/AnalogVsDigitalSignal.png" alt="Analog Vs Digital Signal">
</div>

על מנת לאפשר את זיהוי האות המקורב שנשלח (שאנו מוציאים ע"י פיתוח פורייה), יש לשדר די רכיבים בפיתוח פורייה, על מנת שניתן יהיה לשחזר את האות שנשלח. ולפיכך לתקשורת כזו דרוש רוחב פס רחב, ואף אם הפס רחב דיו, שידור מספר רב של תדרים כאלו הוא בעייתי, השהיית ההתפשטות של האות ו[ניחות](http://en.wikipedia.org/wiki/Attenuation) (דעיכה) עוצמת האות תלויים בתדר שלו. ז"א שאם נשדר רכיבי תדרים רבים למרחק גדול, התדרים השונים יעוותו בצורה שונה (בגלל הפרשי הפאזה שבהם יגיעו והניחות השונה שנגרמים מההבדלים בעוצמת האותות) ואין הבטחה כי ההרמוניות (או רכיב / איבר) יגיעו על פי הסדר שהן נשלחו דבר זה יקשה את הפענוח של המידע.

יש להבין כי עד כה עסקנו בניתוח של אותות דיגיטליים, ז"א שידור של 0 ו-1 כ-0 ו-1 (שידור של אות בינארי, כמו שניתן לראות בתמונה מצד שמאל), וכמו שראינו משימה זו קשה במיוחד. פתרון אפשרי לבעיית השידור של אותות דיגיטליים הוא ביצוע [אפנון](http://he.wikipedia.org/wiki/%D7%90%D7%A4%D7%A0%D7%95%D7%9F) (modulation) של האותות האלו. (כדי לשדר את הגל משתמשים ב[גל נושא](http://he.wikipedia.org/wiki/%D7%92%D7%9C_%D7%A0%D7%95%D7%A9%D7%90) (לרוב גל סינוס) המאופנן לפי תדר, מופע, או [אמפליטודה](http://he.wikipedia.org/wiki/%D7%9E%D7%A9%D7%A8%D7%A2%D7%AA) (או אפילו שילוב של שניהם, ונרחיב עליהם בהמשך)).  
* חשוב לציין כי אין תמסורת שיכולה לשדר אותות בלי לאבד כוח בתהליך.

&nbsp;

**החסמים של שנון ונייקוויסט**

בתחילת 1924, מהדנס ב-AT&T בשם [הארי נייקוויסט](http://en.wikipedia.org/wiki/Harry_Nyquist) הבין כי גם לערוץ מושלם (ללא רעשים) יש יכולת שידור סופית (ז"א מוגבלת). נייקוויסט פיתח נוסחה לחישוב קצב השידור (קצב הנתונים) המקסימלי שניתן להעביר בערוץ בעל רוחב פס סופי (תחום תדרים סופי). נייקוויסט הוכיח כי קצב השידור המקסימלי בערוץ ללא רעשים ברוחב פס H בשימוש של V רמות מתח הוא: (2H*log2(V. ז"א שבערוץ של 3kHz (קילוהרץ) לא ניתן להעביר אות בינארי במהירות הגדולה מ 6,000bps (סיביות לשניה) ע"פ נייקוויסט. בנוסף מצא נייקוויסט כי אם אות שרירותי רץ על רוחב פס בגודל B, ניתן לשחזרו באופן מושלם ומלא ע"י ביצוע של 2B דגימות בדיוק (כמות דגימות גדולה יותר הינה חסרת טעם).

בשנת 1948, המשיך [קלוד שנון](http://en.wikipedia.org/wiki/Claude_Shannon) את עבודתו של נייקוויסט והרחיב אותה גם למקרה של השפעת רעש רנדומלי על ערוץ תקשורת. כמות הרעש נמדדת ע"י היחס בין עוצמת האות לעוצמת הרעש או SNR (ראשי תיבות: Signal-to-Noise Ratio). אם נקרא לעוצמת האות S ולעוצמת הרעש N, אז יחס זה יהיה מיוצג ע"י S/N. בד"כ היחס מבוטא בעזרת סקאלה של log, אני לא אלאה אתכם ביחס עצמו, רק אציין כי היחידות של סקאלה הזו נקראות דציבלים ([decibels - dB](http://en.wikipedia.org/wiki/Decibel)).

לבסוף, התוצאה הגדולה של שנון היא קצב השידור המקסימלי של ערוץ עם רעש שרוחב הפס שלו (של הערוץ) מבוטא כ B (הרצים) ויחס האות/רעש שלו הוא S/N. לדוגמה ADSL שמספקת אינטרנט על גבי רשת הטלפוניה, משמשת ברוחב פס בסביבות 1MHz. ה SNR תלוי באופן מובהק במרחק של הבית מקופסת התקשורת (כש SNR של 40dB למרחק קצר של 1-2 ק"מ נחשב לטוב מאוד). עם הנתונים האלו, הערוץ לעולם לא יוכל לספק יותר מ 13Mbps (הנוסחה של שנון: (B*log2(1+S/N, הנוסחה לחישוב S/N היא: (10log10(S/N).

_שימו לב:_  
החסם של נייקוויסט תלוי ברוחב הפס של הערוץ ובמספר הסיביות המיוצגות ע"י כל אות בלבד, והוא אינו תלוי ברעשים הקיימים בערוץ. רעשים נמדדים לפי היחס אות לרעש. ככל שיש יותר רעשים, כלומר היחס אות לרעש נמוך, כך החסם של שנון יהיה משמעותי יותר, שכן קצב השידור בערוץ יקטן בשל הרעשים שבו. לעומת זאת, בערוץ שבו היחס אות לרעש גבוה, החסם של נייקוויסט עשוי להיות נמוך יותר, כלומר, להגביל את קצב השידור בלא קשר לערכו של החסם של שנון. בערוץ מסוג זה, שבו החסם של נייקוויסט, שאינו תלוי כלל בעוצמת הרעשים, נמוך מהחסם של שנון (ז"א שהוא המגדיר את קצב השידור המקסימלי. אנו תמיד נחשב את שני החסמים וניקח את הנמוך מביניהם), ניתן לומר שהרעשים בערוץ זניחים.

&nbsp;

### 2. התמסורת

כדי להבין יותר לעומק את השכבה הפיזית, נציג בקצרה כמה אמצעי תחבורה פיזיים שלכל אחד מהם רוחב פס שונה, איחור (delay) שונה, עלות שונה, וקלות התקנה ותחזוקה שונים.

&nbsp;

**אמצעים מגנטיים (Magnetic media)**
אחת הדרכים המקובלות ביותר להעברת מידע היא באמצעות כתיבה של המידע על סרט מגנטי או מדיה ניידת, והעברתה באופן פיזי אל היעד (לדוגמה באמצעות UPS) וקריאת הסרט המגנטי או הדיסק במחשב היעד. אמצעי זה אינו מתוחכם במיוחד אך לרוב הינו כלכלי מאוד, במיוחד עבור נפחים גדולים של מידע.

&nbsp;

**חוטים שזורים (Twisted pairs)**

<div class="left">
  <img src="/images/posts/the-physical-layer/TwistedPairCable.png" alt="Twisted Pair Cable" style="width: 20rem">
</div>

אחת מהתמסורות הישנות והנפוצות ביותר הוא חוטים שזורים (ראו תמונה מצד שמאל). חוט שזור מכיל 2 חוטי נחושת מבודדים (לרוב בעובי של 1 מ"מ) השזורים ביחד בדומה מאוד למולקולת DNA. השזירה מתבצעת כדי להבטיח כי הגלים מהחוטים השונים יבטלו זה את זה. ולרוב, האות הינו ההפרש במתחים של שני החוטים השזורים. מערכת הטלפוניה ו ADSL יכולות לרוץ על חוטים אלו. חוטים שזורים יכולים לרוץ כמה קילומטרים ללא הצורך בהגברת האות, אך למרחק ארוך יותר, האות דועך ויש להשתמש ברפיטרים על מנת להגביר את האות בחזרה. רוחב הפס תלוי בעובי החוטים ובמרחק שלהם, אך לא בעיה להגיע לכמה מגה ביטים לשניה לכמה קילומטרים (במרבית המקרים).

נציין כי עם השנים התבצעו כמה פיתוחים שאפשרו להעלות את רוחב הפס, כמו: הכנסת כמה חוטי נחושת (בדר"כ 4) לחוט שזור אחד כך שכמה חוטים אחראים על כיוון אחד והאחרים על הכיוון השני (העלה / הורדה), או שזירה הדוקה יותר (מביאה לאיכות אות טובה יותר על גבי מרחקים ארוכים יותר), או העלאת רוחב הפס ע"י שימוש באות גבוה יותר. כבלים עבים, איכותיים ובעלי מעטפת מבודדת מסוג חוטים שזורים הוצגו ע"י IBM בתחילת שנות ה-80, אך בשל עלותם הגבוהה לא נחלו הצלחה.

&nbsp;

<div class="left">
  <img src="/images/posts/the-physical-layer/Coaxial_Cable.png" alt="Coaxial Cable" style="width: 20rem">
</div>

**כבל קואקסיאלי (Coaxial cable) בל קואקסיאלי**

עוד כבל נפוץ הינו הכבל הקואקסיאלי, כבל זה מספק הגנה (בידוד) טוב יותר ורוחב פס גדול יותר (מחוטים שזורים ללא הגנה), כך שנית לפרוס אותו למרחקים גדולים יותר ללא מגברים ולקבל מהירויות גבוהות יותר.

הכבל בנוי מחוט נחושת במעטפת הפנימית ביותר, מעליו חומר בידוד, לאחר מכן חומר מוליך חיצוני, ולבסוף הכל עטוף בשכבת פלסטיק להגנה. כבלים אלו יכולים לספק רוחב פס של כמה גיגה הרץ והיו בשימוש נרחב במערכת הטלפוניה ככבלים ארוכי טווח (היום, כמעט כולם מוחלפים בסיבים אופטיים).

&nbsp;

**סיבים אופטיים (Fiber optics)**

<div class="left">
  <img src="/images/posts/the-physical-layer/Fiber_Optics.png" alt="Fiber Optics" style="width: 20rem">
</div>

לסיב אופטי יש 3 מרכיבי מפתח, מקור האור, יחידת התמסורת, והגלאי. באופן מקובל, פעימת אור מייצגת ביט 1 והעדר האור מייצג 0, יחידת התמסורת היא סיב זכוכית דק ביותר, והגלאי מייצר פעימה חשמלית כל פעם שפוגע בו אור. בעצם מה שעשינו זה להפוך את הפעימה החשמלית לאור, לשלוח את האור על גבי סיב הזכוכית ובקצה השני להפוך אותו חזרה לפעימה חשמלית.

אבל איך אנחנו יכולים לשלוח את האור בתוך סיב הזכוכית? כשהאור דרך סיב זכוכית מסוג [fused silica](http://en.wikipedia.org/wiki/Fused_quartz) לאוויר, הקרן נשברת, כשאנו שולחים את הקרן בזוויות מסויימות הקרן נשברת כולה חזרה לסיב הזכוכית (מבלי לאבד אף חלק ממנה אל האוויר). ז"א שקרן שפוגעת בגבול שבין סיב הזכוכית לאוויר, בזוויות מסויימת (או גדולה ממנה) לכודה בתוך סיב הזכוכית ואינה יכולה לצאת ממנו, ויכולה להתפשט למשך קילומטרים רבים, כמעט ללא הפסד.

&nbsp;

### 3. תמסורת אלחוטית

_הספקטרום האלקטרומגנטי_
כשאלקטרונים זזים, הם יוצרים גלים אלקטרומגנטים שמתפשטים בחלל (אפילו בוואקום). את הגלים האלה, חזה לראשונה הפיזיקאי [ג׳יימס קלרק מקסוול](http://en.wikipedia.org/wiki/James_Clerk_Maxwell) בשנת 1865 (והם נצפו לראשונה ע"י הפיזיקאי [היינריך הרץ](http://en.wikipedia.org/wiki/Heinrich_Hertz) בשנת 1887).  
מספר התנודות לשניה של גל כזה נקרא תדר ונמדד ביחידות הרץ, והמרחק בין שתי נקודות מקסימום (או מינימום) רציפות נקרא אורך הגל (ומיוצג באופן אוניברסלי ע"י האות [למדא](http://en.wikipedia.org/wiki/Lambda)). כשאנטנה בגודל המתאים מחוברת למעגל אלקטרוני היא מסוגלת לשדר את הגלים האלקטרומגנטים ביעילות, ולקלטם בצד המקבל שנמצא במרחק ממנה. (בוואקום, כל הגלים האלקטרומגנטים נעים באותה מהירות, ללא קשר לתנודות שלהם. מהירות זאת היא [מהירות האור](http://en.wikipedia.org/wiki/Speed_of_light). בנחושת או בסיבים, המהירות מאטה עד בערך 2/3 ממהירות האור והופכת באופן מועט לתלויה בתנודת הגל).

<div class="left">
  <img src="/images/posts/the-physical-layer/Spectrum.png" alt="Spectrum" style="width: 35rem">
</div>

כל ספקטרום התדרים של הרדיו, מיקרו-גל, אינפרא אדום, והאור (הנראה) יכולים לשמש להעברת מידע, ע"י [מודולציה](http://en.wikipedia.org/wiki/Modulation) של ה [אמפליטודה](http://en.wikipedia.org/wiki/Amplitude), ה[תדר](http://en.wikipedia.org/wiki/Frequency) או ה[פאזה (מופע)](http://en.wikipedia.org/wiki/Phase_(waves)). (קרני רנטגן, אור אולטרה סגול, וקרני גמא יהיו אפילו טובים יותר בגלל התדר הגבוה עליו הם עובדים, אך קשה להפיק אותם, לבצע להם מודולציה, הם לא עוברים היטב בתוך מבנים, ומהווים סכנה ליצורים חיים).  
ניתן לראות בתמונה משמאל את הסיבה הברורה מדוע סיבים אופטיים מצליחים כל כך, הם נמצאים בסקאלה הגבוהה שם יש המון גיגה הרץ של רוחב פס פנוי לשידור מידע.

רוב התמסורות משתמשות בתחום קטן יחסית של רצועת התדרים. הם מרכזות את האות שלהם ברצועה הצרה הזו כדי להשתמש בספטקרום באופן יעיל ולהפיק קבצי נתונים סבירים ע"י שידור בעזרת מספיק כוח. לעומת זאת, במקרים נוספים משתמשים ברצועה רחבה יותר, לדוגמה:

  * **FHSS -** (ראשי תיבות: Frequency Hopping Spread Spectrum, בעברית: דילוג בתדר על ספקטרום מתפשט). במקרה הזה השידור קופץ מתדר לתדר מאות פעמים בשניה. שיטה זו פופולרית ביותר לתקשורת צבאית, מפני שהיא מקשה על גילוי השידור וכמעט בלתי אפשרי לתקוע אותה. בנוסף היא מציעה התנגדות טובה לדעיכה של מסלולים מרובים ומצרה את היקף ההפרעות, כדי שהמקבל לא יתקע על תדר לקוי/פגום/חלש למספיק זמן על מנת להשבית את התקשורת.
  * **DSSS -** (ראשי תיבות: Direct Sequence Spread Spectrum, בעברית: רצף ישיר על ספקטרום מתפשט). במקרה הזה אנו נעזרים ברצף של קוד על מנת להפיץ את נתוני האות על פס תדרים רחב יותר. בשיטה זו משתמשות בעיקר חברות מסחריות כדרך יעילה מבחינת ספקטרום לתת לכמה אותות לחלוק את אותם התדרים. (שיטה כזאת בה לאותות נותנים קודים שונים נקראת CDMA).
  * **UWB -** (ראשי תיבות: Ultra WideBand, בעברית: רצועה אולטרה רחבה). בשיטה זו אנו שולחים סדרה של פעימות מהירות על גבי רצועת תדרים רחבה, ומשנים את עמדות הפעימות בכל פעימה. המעברים המהירים בעמדות מובילים לאות שמתפשט בדלילות על פני פס תדרים רחב מאוד.

נמשיך לדון בכיצד חלקים השונים של הספקטרום האלקטרומגנטי עובדים עם השיטות השונות, ונתחיל ברדיו.

&nbsp;

**תמסורת רדיו**

<div class="left">
  <img src="/images/posts/the-physical-layer/RadioFrequency.png" alt="Radio Frequency" style="width: 15rem">
</div>

תדרי רדיו (RF - Radio Frequency) קלים ליצירה ויכולים לנוע לאורך מרחקים ארוכים, הם גם חודרים בניינים בקלות יחסית ובשל כך הם פופולריים ביותר לתקשורת, בתוך הבית ומחוצה לו. בנוסף, גלי רדיו נעים לכל הכיוונים מהמקור, כך שהמשדר והמקלט לא חייבים להיות מיושרים פיזית. המאפיינים של גלי רדיו הינם תלוי תדר. בתדרים נמוכים, גלי רדיו עוברים דרך מכשולים היטב, אך הכוח שלהם נופל בצורה חדה ככל שהמרחק מהמקור גדל. בתדרים גבוהים, גלי רדיו נוטים לנוע בקווים ישרים ולקפוץ ממכשולים. בנוסף, תדרי רדיו גבוהים נבלעים ע"י הגשם ומכשולים אחרים במידה גדולה יותר מתדרים נמוכים.

<div class="left">
  <img src="/images/posts/the-physical-layer/Ionosphereb.png" alt="Ionosphere" style="width: 15rem">
</div>

גלי רדיו בתחומי התדרים ה VLF, LF, MF (או בקיצור התדרים מ-4^10 עד 7^10 הרץ) עוקבים אחר הקרקע (כמו בתמונה משמאל - a). גלים אלו ניתנים לגילוי עבור מרחק של בערך 1,000 ק"מ בתדרים הנמוכים (פחות בתדרים הגבוהים יותר). גלי רדיו ברצועות התדרים האלו יכולים לעבור דרך בניינים בקלות, ולכן מכשירי רדיו ניידים מסוגלים לעבוד בתוך הבתים. הבעיה העיקרית בשימוש ברצועות התדרים האלו לתקשורת נתונים היא רוחב הפס הנמוך שלהם.

לעיתים, בתחומי התדרים HF ו VHF, הגלים נוטים להיבלע ע"י האדמה. למרות זאת, הגלים שכן מגיעים ל[יונוספירה](http://en.wikipedia.org/wiki/Ionosphere) (שכבה של חלקיקים המקיפים את כדור הארץ בגובה של 100 עד 500 ק"מ) מוחזרים על ידה לכדור הארץ (כמו בתמונה משמאל - b) ולכן מאפשרים לבצע תקשורת על גבי מרחק גדול יותר.

&nbsp;

**תמסורת מיקרו-גל**

מעל 100MHz, הגלים נעים כמעט בקו ישר ולכן יכולים להיות ממוקדים באופן צר. ריכוז של כל האנרגיה הזו לקרן אחת קטנה באמצעות [אנטנה פרבולית](http://en.wikipedia.org/wiki/Parabolic_antenna) (כמו זאת של יס) נותנת יחס אות לרעש גבוה. בנוסף, בדרך הזאת ניתן לסדר בשורה משדרים רבים כדי לתקשר עם מקלטים רבים, ברציפות וללא הפרעה (בהנחה שישנו רווח מספק ביניהם).

לפני הסיבים האופטיים, במשך זמן רב, תמסורת המיקרו-גל היו לב התקשורת ארוכת הטווח של תעשיית הטלפוניה. כמו שאמרנו, גלי מיקרו-גל נעים בקו ישר, כך שאם מגדלי האנטנות נמצאים במרחק רב אחד מהשני עיקול כדור הארץ יפריע להם (לכן מעת לעת נדרשים רפיטרים), ככל שהמגדלים גבוהים יותר, כך הם יכולים להיות במרחק רב יותר אחד מהשני. בנוסף, בניגוד לגלי רדיו בתדרים נמוכים, מיקרו-גל לא עוברים דרך בניינים בצורה טובה, אך לרוב, הקמה של 2 מגדלים כאלו תהיה זולה יותר מלהניח 50 ק"מ של סיבים דרך הרים או שטחים עירוניים.

&nbsp;

**הפוליטיקה של הספקטרום האלקטרומגנטי**

כדי למנוע כאוס מוחלט, ישנם הסכמים לאומיים ובין לאומיים להסדרת רשות השימוש בתדרים (מי מורשה להשתמש באיזה תדר). מכיוון שכולם רוצים קצב נתונים גבוה יותר, כולם רוצים עוד [ספקטרום](http://en.wikipedia.org/wiki/Spectrum). ממשלות מקצות ספקטרום לרדיו AM ו FM, לטלוויזיה, לחברות הטלפונים הנייחים, לסלולריים, למשטרה, לתקשורת ימית, לניווט, לצבא. כדי שיהיה ניתן להשתמש בתדרים האלו באופן גלובלי בלי להפריע אחד לשני, וגם לייצר מכשירים שמסוגלים לפעול באופן עולמי, ישנן סוכנויות דוגמת ה [ITU-R](http://www.itu.int/en/ITU-R/pages/default.aspx) המנסות לתאם את ההקצאות האלו (למרות שהמדינות לא מחויבות לקבל את המלצות הסוכנות).

גם כשחלק מהספקטרום מוקצה לשימוש כלשהו, לדוגמה למכשירים ניידים, ישנה בעיה נוספת של איזו מפעילה תורשה להשתמש באיזה תדר. כדי לבצע את הבחירה הזאת תחילה היו מבצעים "תחרות יופי" בה כל אחת מהחברות הייתה מגיעה ומסבירה איך השימוש שלה בתדר א' יתרום לציבור הכי הרבה. ניתן להבין לבד כי שיטה זו הובילה לשחיתות והוחלפה לאחר מכן לשיטת ה"לוטו", בשיטת הלוטו היו מגרילים את התדרים כך שאין כל השפעה לאף אחד על התדר שכל חברה תקבל, אך שיטה זו הובילה לכך שחברות רגילות (לא מפעילות סלולר) היו נכנסות להגרלה ובמידה וזכו היו לאחר מכן מוכרות את התדר לחברות הסלולר, כך שלאותן חברות היה רווח עצום ללא סיכון. דבר שהוביל לשיטה השלישית שקיימת כיום, השיטה הזו בוצעה לראשונה בשנת 2000 ע"י הממשלה הבריטית בשביל התדרים לדור השלישי, בשיטה זו מבצעים מכרז על התדרים למרבה במחיר. הממשלה הבריטית העריכה כי תרוויח מהמכרז כ-4 מיליארד דולר, אך מפעילות הסלולר כל כך פחדו להישאר בלי תדרים (או עם תדרים פחות טובים) עד שהם נתנו הימורים כל כך גבוהים שהממשלה הבריטית קיבלה 40 מיליארד דולר מהמכרז. דבר שמוביל לבעיה נוספת, המכרז השאיר את המפעילות קרוב מאוד לפשיטת רגל, או במקרה הטוב, חוב גבוה עד כדי כך שידרשו שנים להחזיר את ההשקעה על תשלום הרישיון (דבר שכמובן מוביל לגלגול המחיר לצרכן, תחרות נמוכה (כל המפעילות צריכות להחזיר את הסכום ואף אחת לא מעוניינת להתחרות כל עוד הצרכן משלם), ואף האטת ההתקדמות הטכנולוגית).

יש לציין כי כל הממשלות שומרות בצד ספקטרום תדרים לשימוש ללא תשלום שנקרא [ISM](http://en.wikipedia.org/wiki/ISM_band) (ראשי תיבות: Industrial, Scientific, Medical). ספקטרום זה משמש למכשירים לפתיחת דלתות המוסך, טלפונים נייחים אלחוטיים, צעצועים הנשלטים ברדיו, מיקרופונים אלחוטיים וכד'. כדי להקטין את ההפרעות של מכשירים אלו לגלים בשאר הספקטרום, ה [FCC](http://www.fcc.gov/) אף הגביל אותם בכוח השידור שלהם (לאזור ה 1 וואט), ואם הם רוצים להפיץ את השידור שלהם למרחק רב יותר, עליהם להשתמש בטכניקות אחרות.

&nbsp;

**תמסורת אינפרא אדום**
גלי אינפרא אדום מונחים משמשים באופן נרחב לתקשורת קצרת טווח, דוגמת שלטים המשמשים לטלויזיה, ל DVD, לסטריאו וכד'. לרוב, הם זולים וקלים לבניה. אך יש להם חיסרון גדול: הם לא עוברים דרך עצמים מוצקים. לעומת זאת עובדה זו יכולה לשמש גם כיתרון, זה אומר שמערכת אינפרא אדום בחדר אחד לא תפריע למערכת אינפרא אדום בחדר אחר. ובשל עובדה זו אין צורך ברישיונות ממשלתיים לסטנדרט זה. גם מבחינת אבטחה, מערכת אינפרא אדום חסינה יותר לציתות בשל העובדה שאינה עוברת דרך עצמים מוצקים, מלדוגמה גלי רדיו.

&nbsp;

**תמסורת אור**

<div class="left">
  <img src="/images/posts/the-physical-layer/LightTransmission.png" alt="Light Transmission" style="width: 20rem">
</div>

איתות אופטי בלתי מונחה קיים כבר מאות שנים. אך יישום מודרני שלו הוא חיבור רשתות LAN של שני בניינים באמצעות לייזר שמורכב על גג הבניין. איתות בעזרת לייזר הוא חד כיווני, ז"א שכל בניין צריך לייזר משלו וחיישן קריאה משלו. סכמה זו מציעה רוחב פס גדול מאוד בעלות נמוכה, והיא יחסית מאובטחת (קשה לצותת לקרן לייזר צרה). בנוסף, קל מאוד להתקין את המערכת הנל ושלא כמו מיקרו-גל היא לא דורשת רישיון של ה FCC.

החוזק של המערכת מגיע מהקרן הצרה של הלייזר, אך זוהי גם חולשתו העקרית. כיוון שקשה מאוד לייצר קרן ברוחב 1 מ"מ האמורה לשדר למטרה בגודל של סיכה הנמצאת במרחק של 500 מטר. וכדי להקשות עוד יותר, הלייזר מושפע מרוח ומטמפרטורה שיכולים לעקם את הקרן.

&nbsp;

### 4. תקשורת לווינים

<div class="left">
  <img src="/images/posts/the-physical-layer/VanAllenBelt.png" alt="Van Allen Belts" style="width: 20rem">
</div>

בצורתו הפשוטה, ניתן לחשוב על לווין תקשורת כרפיטר מיקרו-גל הנמצא בשמים. הלווין מכיל כמה [טרנספונדרים](http://en.wikipedia.org/wiki/Transponder) (התקן אלקטרוני הקולט ומשדר אותות), שכל אחד מהם מקשיב לחלק קטן מהספקטרום, מגביר את האות הנכנס, ומשדר אותו חזרה בתדר אחר (כדי למנוע הפרעות עם האותות הנכנסים). על פי [חוקי קפלר](http://en.wikipedia.org/wiki/Kepler's_laws_of_planetary_motion), זמן ההקפה של לויין משתנה על פי הרדיוס של המסלול בחזקת 2/3. או בקיצור, ככל שהלווין גבוה יותר כך זמן ההקפה ארוך יותר. בסמוך לפני כדור הארץ זמן ההקפה הוא בערך 90 דק', ובגובה של 35,800 ק"מ (מעל קו המשווה) זמן ההקפה הוא 24 שעות (בגובה של 384,00 ק"מ זמן ההקפה הוא חודש שלם, זמן ההקפה של הירח).

זמן ההקפה של הלווין הוא חשוב לקביעת מיקומו, אך לא הגורם היחידי לקביעה זו, הגורם השני הוא חגורות ואן אלן. חגורות ואן אלן הן שכבות חלקיקים הטעונים במטען חשמלי, ולכודות בשדה המגנטי של כדור הארץ. כל לווין שנימצא בתוכן יהרס די בקלות ע"י החלקיקים. הגורם הזה הביא לכך שישנם רק 3 אזורים שבם ניתן למקם את הלווינים בצורה בטוחה (באיור משמאל).

&nbsp;

**GEO - לוויני המסלול הגיאוסטציונרי**

בשנת 1945, [ארתור סי קלארק](http://en.wikipedia.org/wiki/Arthur_C._Clarke) חישב כי לווין בגובה 35,800 ק"מ יראה ללא תנועה (מכיוון שלוקח לו 24 שעות להשלים סיבוב סביב כדור הארץ בדיוק כמו הזמן שלוקח לכדור הארץ להשלים סיבוב סביב עצמו) וכך לא צריך יהיה לעקוב אחריו (אלא רק לכוון אליו אנטנות פשוטות פעם אחת בלבד). הוא המשיך ותיאר מערכת תקשורת שלמה העושה שימוש בלווינים גיאוסטציונרים (כולל המסלול, פנאלים סולריים, תדרי רדיו, ונהלי שיגור). למרבה הצער הוא ביטל את הלויין בטענה שהוא לא שימושי, מכיוון שבלתי אפשרי לשים מגבר רעב לכוח ושביר, בצינור וואקום לחוג במסלול.

המצאת הטרנזיסטור שינתה את כל זה, ולווין התקשורת הראשון, [טלסטאר](http://en.wikipedia.org/wiki/Telstar), שוגר ביולי 1962. מאז, תעשיית הלווינים הפכה להיות תעשייה של מיליארדי דולרים וזהו ההיבט היחידי (עד כה) של החלל החיצון שהפך להיות מאוד רווחי. עם הטכנולוגיה הקיימת היום, המרחק המינימלי שניתן לשים 2 לווינים אחד מהשני בלי הפרעות הוא 2 מעלות. ובהתחשב בכך שיש לכדור הארץ 360 מעלות, זה אומר שניתן לשים 180 לווינים בשמים בעת ובעונה אחת.

אף על פי כן, כל משדר יכול להשתמש בכמה תדרים כדי להגדיל את רוחב הפס שלו. מכיוון שיש מספר מוגבל של לווינים שיכולים להיות בשמים בעת ובעונה אחת, כדי למנוע כאוס בנושא, הקצאת מיקומי מסלול ללווינים נעשית על ידי ה [ITU](http://en.wikipedia.org/wiki/International_Telecommunication_Union). תהליך ההקצאה הוא מאוד פוליטי, וארצות מתפתחות ואפילו כאלו שעדיין נמצאות ב"עידן האבן" דורשות הקצאה למסלול (כדי להציע אותו אח"כ למרבה במחיר), ואם זה לא מספיק גרוע, גם חברות תקשורת, טלוויזיה, ממשלות, וגופים צבאיים רוצים חתיכה מהעוגה.

יש לציין כי לווינים לא נשארים לעד. הלווינים המודרנים די גדולים ושוקלים בסביבות 5,000 ק"ג, וצורכים כמה קילווואטים אחדים של כוח חשמלי המופק מהפנאלים הסולריים. ההשפעה של השמש, הירח, וכוח העבודה הפלנטרי נוטה להרחיק אותם מהמקום ומהאורנטצייה שהוקצאה להם, בשביל להשאיר אותם במקומם ישנו אפקט נגדי שמתבצע ע"י מנועי רקטות שמחוברים ללווין. הכיוונונים הקטנים האלו נקראים [station keeping](http://en.wikipedia.org/wiki/Orbital_station-keeping). אחרי שהמנועים לכיוונינים מתעייפים (אחרי בערך 10 שנים), הלווין מתחיל לנטות ואז יש לכבות אותו. לבסוף הלווין יוצא ממסלולו וחוזר לארץ, בעת החזרה הוא נשרף בכניסה לאטמוספריה (בפעמים נדירות מאוד הוא מתרסק לכדור הארץ).

<div class="left">
  <img src="/images/posts/the-physical-layer/BandTable.png" alt="Band Table" style="width: 25rem">
</div>

בנוסף, כמות הלווינים היא לא הבעיה היחידה, גם התדרים מהווים בעיה, מכיוון שלעיתים קרובות, תדרי ה Downlink מפריעים לתדרי המיקרו-גל. לכן ה ITU הקצה רצועות תדרים ספציפיות לשימוש לווינים. הראשיים מבינהם מופיעים באיור משמאל.

הרצועה הראשונה שעוצבה לתקשורת מסחרית היה ה C, שני טווחי תדרים מוקצים בתוכה, אחד לתנועה יורדת והשני לתנועה עולה (ללווין) (2 טווחים דרושים כדי לאפשר לתנועה בשני הצדדים באותו הזמן). הערוצים האלו (1.5GHz ו 1.6GHz) כבר צפופים מפני שמפעילים משתמשים בהם לקישורי מיקרו-גל בין יבשתיים. הרצועות L ו S נוספו בשנת 2000 אחרי הסכמים בין לאומיים, אך גם הם עמוסים ואף צרים מבחינת רוחב פס. הרצועה הבאה הזמינה לתקשורת מסחרית היא Ku, הרצועה הזו היא (עוד) לא צפופה ובתדרים הגבוהים שלה, לווינים מסוגלים להיות במרחק של מעלה אחת בלבד אחד מהשני בלי להפריע לתקשורת. אך לרצועה זו קיימת בעיה אחרת: גשם. הגשם סופג ("בולע") את הטווחי המיקרו-גל הקצרים האלו בצורה טובה מידי. הרצועה האחרונה היא Ka, אך בשל עלויות הציוד הגבוהות היא אינה בשימוש נירחב במיוחד. יש לציין כי בנוסף לתדרים המסחריים האלו, קיימים עוד המון תדרים בשימושים של הממשלות והצבאות השונים.

ללווין מודרני ישנם בסביבות 40 משדרים, ובהתחלה כל משדר היה פועל כצינור עצמאי (רוחב הפס הכולל היה מחולק לרצועות תדרים קטנות באופן קבוע). אך בשנים האחרונות כל קרן של משדר מחולקת לתאי זמן, כשכל משתמש לוקח בתורו תא (נרחיב בהמשך על הטכניקות האלו).

<div class="left">
  <img src="/images/posts/the-physical-layer/VASTs.png" alt="VASTs" style="width: 20rem">
</div>

אחד מהפיתוחים האחרונים בתחום תקשורת הלווינים היה ה'מיקרו תחנות' הזולות והקטנות שנקראות [VSAT](http://en.wikipedia.org/wiki/Very-small-aperture_terminal) (ראשי תיבות: Very Small Aperture Terminals). למסופים הקטנים האלו יש אנטנה בגודל (בערך) מטר אחד בלבד (לעומת 10 מטר ללוויני GEO סטנדרטים), קצב העלאה שלהם בדר"כ טוב עד 1Mbps, וההורדה עד כמה מגה ביטים לשניה. ברוב הפעמים למערכות ה VSAT אין מספיק כוח כדי לתקשר אחד עם השני ישירות (דרך הלווין), לכן ישנה תחנת קרקע מיוחדת הנקראת hub עם אנטנה גדולה שתפקידה להעביר את התנועה בין ה VSATים. (יש לציין כי טכניקה זו גורמת לעיכוב (delay) גדול יותר אך זה מתבצע תמורת תחנות קצה זולות יותר).

לתקשורת לווינים יש כמה מאפיינים שונים מאוד מקישורית נקודה לנקודה יבשתית. נתחיל בכך שאף שהאות נע ללוווין ומהלווין במהירות האור (כמעט 300,000 קמ"ש/שניה) המרחק הרב בין תחנת הקצה ללווין גורם לעיכוב מורגש אצל לוויני GEO, באיזור ה270 מיילי שניות (וכ 540 מילי שניות ל VSAT המחובר ל hub). בעיה נוספת היא שקרן האור פוגעת באזור גדול, וכך השידור המתבצע מיועד לכל התחנות, כל התחנות יכולות לקלוט אותו (למרות שניתן לדמות שידור נקודה לנקודה, אך שידור זה יהיה יקר יותר). מצד אחד זהו יכול להיות יעיל, אך מצד שני, מנקודת הפרטיות, לווינים הם נוראיים: כל אחד יכול לשמוע הכל, ולכן הצפנה היא הכרחית לתקשורת מאובטחת. בנוסף, בשל הגובה הרב בו לווינים אלו נמצאים (36,000 ק"מ) הם משלימים הקפה של כדור הארץ רק כל 24 שעות, אך כדי לכסות את כל שטח כדור הארץ דרושים אך ורק 3 לווינים כאלו.

&nbsp;

**MEO - לוויני המסלול האמצעי**

לווינים אלו נמצאים בגובה הרבה יותר נמוך מלוויני GEO (כ-18,00 ק"מ), וממוקמים בין 2 חגורות ואן אלן. הם נעים באיטיות לאורך קו האורך ולוקח להם (בערך) 6 שעות להקיף את כדור הארץ (בגלל תנועתם בשמים יש לעקוב אחרי מיקומם). בנוסף, מפני שהם בגובה נמוך יותר, כל אחד מכסה שטח קטן יותר ודרושים 10 לווינים כאלו כדי לכסות את כל שטח כדור הארץ. אך מנגד, הם דורשים משדרים חלשים יותר (כי מרחק השידור קטן יותר). יש לציין כי לווינים אלו משמשים בעיקר לתקשורת GPS.

&nbsp;

**LEO - לוויני מסלול נמוך**

לווינים אלו נמצאים בגובה עוד יותר נמוך (כמה מאות ק"מ), ובשל גובה זה העיכוב הקיים מתחנת הקרקע ללווין הוא כמה מילי שניות אחדות. בנוסף, בשל גובהם הנמוך הם מכסים פחות שטח,וכתוצאה מכך נדרשים יותר לווינים כדי לכסות את כל כדור הארץ (כ-50), בנוסף,תחנות הקרקע דורשות משדרים קטנים אף יותר.

בשלושים השנים הראשונות של עידן הלווין, הגובה הנ"ל של הלווינים היה כמעט ללא שימוש, מפני שבגובה הנמוך הלווינים יצאו מהטווח מהר מאוד. פרויקט מפורסם של לווינים בגובה זה הוא פרויקט ה[אירידיום](http://en.wikipedia.org/wiki/Iridium_Communications) שתוכנן ע"י מוטורולה בשנת 1990 והושק בנובמבר 1998. מוטורולה ביקשה מה FCC לשגר 77 לווינים (ועל כך שם הפרויקט). הרעיון היה לכסות את כל כדור הארץ בלווינים כך שברגע שלווין אחד יוצא מהטווח אחר נכנס להחליפו (על תחנות הקרקע לבצע מעברים, handoffs, מלווין אחד למשנהו כדי לשמור על רציפות התקשורת).

<div class="left">
  <img src="/images/posts/the-physical-layer/Iridium.png" alt="Iridium" style="width: 25rem">
</div>

לאחר 7 שנים השירות החל לעבוד, אך הדרישה לתקשורת טלפונית לווינית הייתה נמוכה בשל ההתפתחות והגידול של רשתות הטלפונים הנידיים. כתוצאה מכך אירידיום נכשלה והכריזה על פשיטת רגל באוגוסט 1999. הלווינים והנכסים של הפרויקט (ששוים 5 מיליארד דולר) נמכרו במכירה פומבית ב-25 מיליון דולר, והפרויקט יצא שוב לדרך במרץ 2001 ורק גדל מאז. השירות מספק שיחות קוליות, תעבורת מידע, שירות איתור, פקס, וניווט בכל מקום בעולם ביבשה, במים ובאוויר. הלווינים ממקומים בגובה של 750 ק"מ ובמרחק של 32 מעלות זה מזה. לכל לווין יש מקסימום 48 קרנים (לשידורים), וקיבולת של 3840 ערוצים (שכל אחד מהם אחראי על שירות אחר). מה שמעניין בפרויקט הזה הוא שהתקשורת בין שני אנשים מתבצעת בחלל (כמו שניתן לראות באיור a משמאל, בניגוד ל b שמתבצע בקרקע).

&nbsp;

## 5. אפנון וריבוב דיגיטליים

אחרי שעברנו על המאפיינים של ערוצי תקשורת קווית ואלחוטית, נפנה את תשומת ליבנו לבעיה של שליחת מידע דיגיטלי. ערוצי תקשורת קווית ואלחוטית נושאים אותות אנלוגיים, כמו מתח (המשתנה ברציפות), עוצמת אור, או עוצמת קול. כדי לשלוח מידע דיגיטלי,אנחנו צריכים למצוא דרך לייצג ביטים ע"י אותות אנלוגיים. תהליך ההפיכה בין ביטים לאותות מיוצג על ידי מושג שנקרא אפנון (ובאנגלית: [digital modulation](http://en.wikipedia.org/wiki/Modulation), ומכאן בא השם של המודם).

בחלק זה נדבר גם על ריבוב. ערוצים חולקים הרבה פעמים כמה אותות, אחרי הכל זה הרבה יותר נוח להשתמש בחוט אחד כדי להעביר כמה אותות מאשר להתקין חוט לכל אות. החלוקה הזאת נקראת ריבוב (ובאנגלית: [multiplexing](http://en.wikipedia.org/wiki/Multiplexing)) וניתן להשיגה בכמה דרכים.

&nbsp;

<div class="left">
  <img src="/images/posts/the-physical-layer/Baseband.png" alt="Baseband" style="width: 25rem">
</div>

**תמסורת Baseband**
הדרך הכי ישירה לבצע אפנון דיגיטלי היא להשתמש במתח חיובי לייצוג 1 ומתח שלילי לייצוג 0. ולסיבים אופטיים 1 יהיה נוכחות של אור ו-0 הוא אי הנוכחות של האור. השיטה הזאת נקראת [NRZ](http://en.wikipedia.org/wiki/Non-return-to-zero). ברגע ששלחנו, האות NRZ מתפשט בקו, והצד המקבל הופך אותו חזרה לביטים ע"י לקיחת דגימות של האות במרווחי זמן קבועים (כמו שניתן לראות באיור משמאל ב-b).  
האות לא יראה בדיוק כמו שנשלח, הוא יחלש וישובש על ידי הערוץ והרעש של המקבל. כדי לפענח אותו לביטים, הצד המקבל ממפה את הגל האנלוגי והופך אותו למה שהוא הכי קרוב (הכי קרוב למתח חיובי או למתח שלילי). NRZ מהווה בסיס מצוין, אך לא מבצעים בו שימוש רב במציאות, אלה רק לעיתים רחוקות. יש עוד שיטות מורכבות יותר שיכולות להפוך ביטים לאותות ועומדות בדרישות גבוהות יותר.

&nbsp;

**יעילות רוחב הפס**
עם NRZ ניתן להשלים "סיבוב" של רמות חיוביות ושליליות במקסימום (הכי מהר) 2 ביטים (במקרה בינארי, 1 ו-0). זה אומר שאנחנו צריכים רוחב פס של לפחות B/2 כשקצב השידור שלנו הוא B ביטים/לשניה. היחס הזה מגיע מהמשוואה של נייקויסט. זהו חסם בסיסי, כך שאנחנו לא יכולים להריץ את השיטה NRZ מהר יותר בלי להשתמש ברוחב פס גדול יותר. אך פעמים רבות, רוחב פס הינו משאב מוגבל. גם בערוצים קווים, אותות בתדירות גבוהה נחלשים יותר ויותר, מה שהופך אותם לפחות שימושיים, ובנוסף הם דורשים אלקטרוניקה יותר מהירה.

אסטרטגיה אחת לשימוש ברוחב פס מוגבל באופן יעיל יותר היא שימוש בשתי שכבות של אותות. על ידי שימוש ב-4 מתחים, לדוגמה, אנחנו יכולים לשלוח 2 ביטים בבת אחת כסימן/אות (ייצוג) אחד. עיצוב זה יעבוד כל עוד האות בצד המקבל חזק מספיק כדי להבדיל בין 4 הרמות. כעת, הקצב שבו האות משתנה הוא חצי מקצב השידור ולכן אנחנו צריכים פחות רוחב פס.

לקצב בו האות משתנה קוראים [Symbol rate](http://en.wikipedia.org/wiki/Symbol_rate) (שימו לב להבדל מ bit rate). קצב הביטים הינו קצב האות כפול מספר הביטים לאות. symbol rate ידוע לפעמים גם כ [baud](http://en.wikipedia.org/wiki/Baud) rate (זהו שם ישן שהוחלף).

&nbsp;

**התאוששות שעון**  
לכל השיטות שהופכות ביטים לאותות, הצד המקבל חייב לדעת שכשאות אחד נגמר הבא אחריו מתחיל, בקיצור לתזמן את הפעילות, כדי לפענח נכון את הביטים. אך עם NRZ האותות האלו הם רמות מתח פשוטות, וכמות גדולה של אפסים (או אחדים) רצופים ניראים כאות אחד רצוף מפני שלא מבצעים שינוי לרמת המתח. לאחר כמה זמן יהיה קשה להבדיל בינהם, 15 אפסים יראו דומה מאוד ל-16 כאלו, אלה אם יש לנו [שעון מדויק](http://en.wikipedia.org/wiki/Clock_signal) מאוד.

שעון מדויק אכן יפתור את הבעיה, אך הוא מייקר מאוד את הציוד ובפועל לא קיים בכרטיסי הרשת הביתיים והסטנדרטים, כרטיסי הרשת מיוצרים לרוב במזרח ואין הקפדה על איכות החומרים והגבישים, בשל הרצון לחסוך בעלויות החומרים (מה שמתגלגל אל צרכן הקצה בסופו של דבר ונראה בדמות מוצר זול במיוחד).

אסטרטגיה אחת היא לשלוח באופן נפרד את זמן השעון של האות אל הצד המקבל, כך שיבוצע סנכרון בין כרטיס הרשת של הצד המקבל והשולח. אך זה יהיה בזבוז משאבים, הרי אם אנחנו יכולים לשלוח עוד אות באותו רוחב פס, למה שלא נשלח עליו עוד מידע?!

טריק אחר הוא לערבב את השעון של האות עם האות של המידע ע"י ביצוע [XOR](http://en.wikipedia.org/wiki/Exclusive_or) שלהם ביחד (כך שאנו לא צריכים להשתמש בעוד שורה), במקרה הזה ברגע שאנחנו מבצעים XOR לרמה 0, מתבצע שינוי מרמה נמוכה לרמה גבוהה. וב-1 מתבצע שינוי מרמה גבוהה לרמה נמוכה. שיטה זו נקראת [קוד מנצ׳סטר](http://en.wikipedia.org/wiki/Manchester_code) וניתן לראותה באיור (למעלה משמאל) ב-d. היתרון שלה הוא שיש פחות טעויות בקריאת הביטים, אך החסרון הוא שנדרש רוחב פס כפול מאשר שנדרש ב NRZ כדי להעביר את אותו המידע (מכיוון שהפולסים הם בחצי מהרוחב).

אסטרטגיה אחרת (בה נעשה שימוש בתקן הפופולרי USB) מבוססת על הרעיון שאנחנו צריכים לקודד את המידע בצורה כזו שנבטיח שיש מספיק מעברים באות. ז"א שאם המעברים יהיו בזמן הדגימה (ולא בין דגימה לדגימה) יהיה קל יותר להישאר מסונכרנים. צעד בדרך זו מתבצע בשיטה [NRZI](http://en.wikipedia.org/wiki/Non-return-to-zero#Non-Return-to-Zero_Inverted_.28NRZI.29), בה קידוד של 1 הוא שינוי וקידוד של 0 הוא ללא שינוי (לא מדובר על בין רמות המתח, אלה רק השינוי ברמות המתח כשלא משנה איזה שינוי (לאיזה כיוון) העיקר שיהיה שינוי כשנקודד 1), שיטה זו מופיע באיור (למעלה משמאל) ב-c.

עכשיו, כשאנו מקודדים 1 יש שינוי של המתח ואנחנו נשארים מסונכרנים בצורה עקיפה, גם אם יש רצף של 1ים. אך כשנקבל רצף של 0ים, אנחנו עדיין יכולים לאבד את הסנכרון, כי ברצף של 0 לא מתבצע שינוי והמתח נשאר כשהיה לאורך כל הרצף. קווי טלפון דיגיטליים ישנים בארה"ב, הנקראו T1, דרשו שלא יישלחו יותר מ-15 אפסים רצוף כדי שיוכלו לעבוד בצורה תקינה, אז כדי באמת לתקן את הבעיה אנחנו יכולים לפרק את רצף ה0ים ולמפות אותם לקבוצות קטנות של ביטים כך שלא יהיו המון 0ים רצופים.

<div class="left">
  <img src="/images/posts/the-physical-layer/4B-5B.png" alt="4B-5B" style="width: 20rem">
</div>

הקוד המוכר שמבצע את העובדה הזו נקרא [4B/5B](http://en.wikipedia.org/wiki/4B5B). וכל 4 ביטים ממופים לתבנית של 5 ביטים, כשקיימת טבלת תרגום קבועה. השיטה של 5 ביטים נבחרה כדי שלא יהיה רצף של יותר משלושה אפסים רצופים. ובטבלה משמאל אנו רואים את רצף כל האפשרויות שיכול להיות במיפוי זה. מכיוון שאנו מוסיפים עוד ביט לכל 4 ביטים, אנחנו מוסיפים עוד 25% ביטים, אך זה יותר טוב מהוספה של עוד 100% ביטים שהיינו מוסיפים בקוד מנצסטר.

&nbsp;

**אותות מאוזנים**
אותות שיש להם מתח חיובי ושלילי באותה רמה, בזמנים קצרים, נקראים אותו מאוזנים.  
האיזון עוזר לספק מעברים להתאוששות שעון, מכיוון שיש ערבוב של מתח שלילי וחיובי. בנוסף הוא מספק דרך פשוטה לפענח את האות ששידרו אלינו, כי האות הממוצע ניתן למדידה, כך שגם אם היה עיוות בדרך, כל עוד העיוות קטן יחסית אנחנו יכולים לראות לאן הממוצע נוטה.

דרך ישירה ופשוטה לבנות קוד מאוזן היא להשתמש ב-2 רמות מתחים לייצוג 1 (לדוגמה 1v+ ו 1v-) ו 0v כדי לייצג 0. כדי לשלוח 1, המשדר שולח לסירוגין 1v+ ו 1v- כך שהם יצאו בממוצע. דרך זאת נקראת (קידוד דו קוטבי)[http://en.wikipedia.org/wiki/Bipolar_encoding] וניתן לראות אותו באיור (שמאל למעלה) ב-e.

&nbsp;

**תמסורת Passband**
לפעמים, נרצה תחום תדרים שלא מתחיל ב-0 כדי לשלוח מידע בערוץ (לדוגמה, לערוצים אלחוטיים זה לא פרקטי לשלוח אות בתדר נמוך מאוד בגלל גודל האנטנה. וגם בתקשורת קווית, לשלוח אות בתחום תדר מסויים זה מועיל כדי לאפשר לכמה סוגי אותות להישלח במקביל). אך אילוצי רגולציה והצורך למנוע הפרעות מכתיבים, בדרך כלל, את הבחירה של התדרים. הסוג הזה של התמסורת, שבו תחום שרירותי של תדרים משמש להעביר את האות נקרא passband.

הערך האבסולוטי של התדר אינו חשוב לקיבולת שלו. זה אומר שאנחנו יכולים להסיט אות בשידור baseband (ראו את טבלת התדרים בסעיף 4) שעובד בתדר 0 עד B הרץ, למעלה כך שבשידור passband הוא יעבוד בתדר S עד S+B הרץ, מבלי לשנות את כמות המידע שהוא יכול לשאת, אפילו אם האות יראה שונה. בצד המקבל אנחנו מסיטים את התדר בחזרה למטה (ל baseband), היכן שיותר נוח לגלות את האותות.

<div class="left">
  <img src="/images/posts/the-physical-layer/Passband.png" alt="Passband" style="width: 20rem">
</div>

אפנון מודרני מתבצע באמצעות ויסות או אפנון של האות שיושב ב passband, אנחנו יכולים [לאפנן](http://en.wikipedia.org/wiki/Modulation) את ה[אמפליטודה (משרעת)](http://en.wikipedia.org/wiki/Amplitude_modulation), את ה[תדר](http://en.wikipedia.org/wiki/Frequency_modulation), או את ה[מופע (פאזה)](http://en.wikipedia.org/wiki/Phase_modulation) של האות.

  * **ASK (ראשי תיבות: Amplitude Shift Keting) -** שני אפמפליטודות (או יותר) משמשות לייצוג של 0 ו-1. דוגמה לכך נמצאת באיור משמאל, ב-b. כשהאמפליטודה של הגל משתנה ב-0 ונשארת ב-1.
  * **FSK (ראשי תיבות: Frequency Shift Keying) -** משתמשים בשתי (או יותר) טונים. דוגמה לכך נמצאת באיור משמאל, ב-c.
  * **PSK (ראשי תיבות: Phase Shift Keying) -** הגל אינו משתנה ב-0, וכדי לייצג אחד מציג את ההפוך של עצמו (180 מעלות). דוגמה לכך נמצאת באיור משמאל, ב-d.

בנוסף, ניתן לשלב בין סוגי האיפנונים וכך לשדר יותר ביטים לאות. אך רק פאזה או תדר יכולים להיות משולבים באותו הזמן, מכיוון שהם קשורים זה לזה, כשהתדר הוא קצב השינוי של הפאזה לאורך זמן.

<div class="left">
  <img src="/images/posts/the-physical-layer/ConstellationDiagram.png" alt="Constellation Diagram" style="width: 20rem">
</div>

בדרך כלל, אפנון אמפליטודה ופאזה משולבים ביחד. באיור משמאל ניתן לראות 3 דוגמאות לשילוב של פאזה ואמפליטודה. בדוגמאות משמאל אנחנו רואים 3 דיאגרמות, הדיאגרמות האלו נקראות [תרשים קונסטלציה](http://en.wikipedia.org/wiki/Constellation_diagram). ב-a (שהיא דיאגרמת ייצוג ל[QPSK](http://en.wikipedia.org/wiki/Phase-shift_keying#Quadrature_phase-shift_keying_.28QPSK.29)) אנחנו רואים נקודות במרחק שווה אחת מהשניה ב-45, 135, 225 ו-315 מעלות. את הפאזה של הנקודה מודדים על ידי הזווית של הקו מראשית הצירים לנקודה, לפי הכיוון החיובי של ציר ה x. ואת האמפליטודה של הנקודה מודדים לפי המרחק של הנקודה מראשית הצירים. ב-b אנחנו רואים קונסטלציה צפופה יותר. כאן יש 16 שילובים של אמפליטודה ופאזה, כך שסכמת האפנון יכולה לשדר 4 ביטים לאות. תרשים הקונסטלציה הזה נקרא [QAM-16](http://en.wikipedia.org/wiki/Quadrature_amplitude_modulation) (ראשי תיבות: Quadrature Amplitude Modulation). ב-c רואים קונסטלציה הנקראת QAM-64, בעלת 64 שילובים של אמפליטודות ופאזות, כך שכל אות יכול להעביר 6 ביטים.

תרשימי הקונסטלציה שראינו עד כה מאפשרים בנייה קלה יותר של מכשירים שישדרו אותות כשילובים של ערכים של כל ציר, מאשר שילוב של ערכים של פאזה ואפליטודה. אך אף אחת מהקונסטלציות שראינו עד כה לא מראה כיצד ביטים מוקצים לאותות. כשמבצעים את ההקצאה, ישנה חשיבות שהתפרצות רעש קטנה בצד המקבל לא תגרום ליותר מידי שגיאות ביטים. זה יכול לקרות אם נקצה ערכי ביטים רצופים לאותות סמוכים.

ב QAM-16, לדוגמה, אם אות אחד מייצג 0111 והאות השכן מייצג 1000, אם בצד המקבל ישנה שגיאה והוא בטעות מרים את האות השכן זה יגרום לכל הביטים להיות שגויים. פתרון טוב יותר הוא למפות ביטים לאותות, כך שאותות שכנים יבדלו רק במיקום של ביט אחד. המיפוי הזה נקרא [קוד גריי (אפור)](http://en.wikipedia.org/wiki/Gray_code)) (נרחיב עליו בהמשך). עכשיו, אם הצד המקבל יפענח את האות בטעות, תיהיה טעות רק בביט אחד (כמובן במקרה הצפוי בו הצד המקבל פיענח אות שקרוב לאות הנשלח).

&nbsp;

**ריבוב בחלוקת תדר**
[ריבוב בחלוקת תדר](http://en.wikipedia.org/wiki/Frequency-division_multiplexing) (או Frequency Division Multiplexing) מנצל את תמסורת ה passband כדי לחלוק את הערוץ. הוא מחלק את הספקטרום (קשת התדרים) לרצועות תדרים, כשלכל משתמש יש רשות בלעדית על רצועה כדי לשלוח את האות שלו. תדרי רדיו AM מדגימים שימוש בריבוב בחלוקה זו. הספקטרום המוקצה הוא באזור ה 1MHz (בערך 500 עד 1500kHz). התדרים השונים מוקצים לערוצים לוגים שונים (תחנות), כל פעולה יושבת על חלק מהספקטרום, כשיש להשאיר רווח בערוץ הפנימי (בתוך הערוץ, בין התדרים) גדול מספיק כדי למנוע הפרעות.

<div class="left">
  <img src="/images/posts/the-physical-layer/FrequencyDivisionMultiplexing.png" alt="Frequency Division Multiplexing" style="width: 25rem">
</div>

כמו שניתן לראות בתמונה משמאל, אנחנו רואים ערוץ טלפון (קולי) שעליו מבוצע FDM (ריבוב בחלוקת תדר) ל-3 ערוצים שונים. פילטרים שונים מגבילים את הרוחב פס לבערך 3100Hz לכל רמת ערוץ קול. כשכל הערוצים מתחברים יחדיו לערוץ אחד, לכל ערוץ מוקצב רוחב פס של 4000Hz. העודף הזה (900Hz) נקרא [guard band](http://en.wikipedia.org/wiki/Guard_band), והוא נועד לשמור על הערוצים מופרדים היטב.

קודם כל מעלים כל ערוץ בתדר מסויים, כל אחד בסכום אחר. לאחר מכן ניתן לשלב אותם יחדיו מכיוון שאין 2 ערוצים שתופסים את אותו החלק בספקטרום. בנוסף, שימו לב כי למרות שיש רווחים בין הערוצים (תודות ל guard band), ישנה חפיפה מסויימת בין ערוצים שכנים. החפיפה קיימת מכיוון שלמסננים (פילטרים) אמיתיים אין קצוות חדים אידיאליים, זה אומר שעליה פתאומית בקצה של ערוץ אחד תיהיה מורגשת בערוץ הסמוך לו כרעש לא תרמי (ההפך מ[רעש תרמי, או רעש נייקוויסט](http://en.wikipedia.org/wiki/Johnson%E2%80%93Nyquist_noise)).

בתמונה למעלה משמאל, רואים ב a את רוחב הפס המקורי, לאחר מכן ב b את רוחב הפס מועלה בתדר, וב c את הערוץ המרובב (הסופי). בריבוב זה נעשה שימוש בתעשיית הטלפוניה (כדי לרבב מספר שיחות על אותו התדר) במשך הרבה שנים, אך היום ריבוב בחלוקת זמן הוא המועדף (למרות זאת, FDM נמצא עדיין בשימוש גבוה בתקשורת הטלפוניה, הסלולרית, והלווינית).

<div class="left">
  <img src="/images/posts/the-physical-layer/OrthogonalFrequency-divisionMultiplexing.png" alt="Orthogonal Frequency-division Multiplexing" style="width: 25rem">
</div>

כששולחים מידע דיגיטלי, ניתן לחלק את הספקטרום ביעילות מבלי להשתמש במגני פס (guard bands) ובכך לא לבזבז רוחב פס יקר, וזה בדיוק מה ש OFDM (ראשי תיבות: [Orthogonal Frequency Division Multiplexing](http://en.wikipedia.org/wiki/Orthogonal_frequency-division_multiplexing)) עושה. רוחב הפס של הערוץ מחולק להמון תתי מובילים שבאופן עצמאי שולחים מידע. התתי מובילים האלו ארוזים ביחד על תחום תדר (כלשהו). כך שהאותות מכל מוביל מתפשטים לסמוכים אליהם. אך כמו שניתן לראות באיור משמאל, תגובת התדר של כל מוביל מתוכננת להיות שווה לאפס במרכז של התתי מובילים הסמוכים אליו. לכן, ניתן לדגום את התתי מובילים במרכז התדר שלהם בלי רעש משכניהם. כדי שזה יעבוד, אנחנו צריכים משתנה זמן כלשהו, שיחזור על עצמו כל חלק זמן קבוע של סמל האות, כך שיהיה להם את תגובת התדר הרצויה. למרות זאת, [התקורה](http://he.wikipedia.org/wiki/%D7%94%D7%95%D7%A6%D7%90%D7%95%D7%AA_%D7%AA%D7%A7%D7%95%D7%A8%D7%94) היא הרבה פחות משנחוצה להרבה מגני פס (guards bands).

הרעיון של OFDM קיים כבר זמן רב, אך רק בעשור האחרון הוא אומץ בצורה רחבה, בעקבות ההבנה שאפשר להטמיע OFDM ביעילות (במונחי פירוק פורייה של מידע דיגיטלי) על כל התתי מובילים (במקום לבצע אפנון נפרד של כל תת מוביל). בדרך כלל, זרם אחד בשיעור גבוה של מידע דיגיטלי מחולק להרבה תת זרמים בשיעורים נמוכים שמשודרים על כמה תתי מובילים במקביל. החלוקה הזו היא יקרת ערך, מכיוון שבנפילה של ערוץ קל יותר להתמודד ברמה של תת מוביל.

&nbsp;

**ריבוב בחלוקת זמן**

<div class="left">
  <img src="/images/posts/the-physical-layer/TimeDivistionMultiplexing.png" alt="Time Divistion Multiplexing" style="width: 25rem">
</div>

אלטרנטיבה לריבוב בחלוקת תדר, היא ריבוב בחלוקת זמן - TDM (ראשי תיבות: Time Division Multiplexing). ב TDM המשתמשים משדרים בתורות (במבנה סיבובי) כשכל אחד, בתורו, עושה שימוש בכל רוחב הפס לפרץ זמן קצר וקבוע. ניתן לראות משמאל דוגמה ל-3 משתמשים שמשדרים בשיטה זו.

ביטים מכל משתמש נלקחים בזמן קבוע ומשודרים אל היעד. כדי שהשיטה תעבוד, על כל המשתמשים להיות מסונכרנים, וכדי להשיג את זה מבצעים שימוש ב [guard time](http://en.wikipedia.org/wiki/Guard_interval) (שומרי מרווח) אנלוגיים.

&nbsp;

**ריבוב בחלוקת קוד**

CDM (ראשי תיבות: Code Division Multiplexing) עובד בצורה שונה לגמרי מ FDM או TDM. הוא צורה של תקשורת ספקטרום מתפשטת, בה אות בעל רצועה (/פס) צרה מתפשט החוצה על גבי תדר ברצועה רחבה יותר. כך הוא יותר "סובלני" להפרעות ורעשים, וגם מאפשר לכמה אותות (מכמה משתמשים) לחלוק את אותה רצועת התדר. מפני שריבוב הזה ידוע יותר בשל האפשרות של כמה משתמשים לחלוק את אותה רצועה הוא ידוע יותר בשם CDMA (ראשי תיבות: Code Division Multiple Access).

CDMA מאפשר לכל תחנה לשדר על כל הספקטרום של התדר כל הזמן, כשהתשדורות מופרדות באמצעות קוד. לפני שניגש לאלגוריתם, להלן אנלוגיה שתסביר יותר טוב את ההבדלים בין הריבובים: נניח שאנו בשדה תעופה מול הדלפק כדי לדבר עם אחד העובדים, TDM זהו בעצם 2 אנשים (לדוגמה) שמדברים עם העובד בתורות. FDM זה 2 אנשים שמדברים ביחד, אך אחד בקול גבוה והשני בקול נמוך, כך שאנחנו עדיין יכולים להבחין איזה קול מגיע מאיזה אדם. ב CDMA, שוב, 2 האנשים מדברים ביחד אך כל אדם מדבר בשפה שונה, אחד אנגלית ואחד צרפתית (לדוגמה), כך שאנחנו עדיין יכולים להבחין עם מי אנחנו מדברים, ואם אני מדבר עם האדם הצרפתי אני מחשיב כרעש כל דבר שאינו צרפתית.

ב CDMA, כל ביט מחולק ל m פרקי זמן קצרים הנקראים chips. בדרך כלל יש כ-64 או 128 chipים לכל ביט, אך לפישוט ההסבר נשתמש בדוגמה שלנו ב-8 chipים לביט. לכל תחנה מוקצה קוד יחודי בן m ביטים שנקרא רצף chipים. לנוחות ההסבר אנו מסמנים בסימון דו קוטבי את הקודים כרצף של 1- ו 1+ ונראה את רצף הchipים בסוגריים.

אז כדי לשלוח 1, התחנה צריכה לשלוח את הרצף chipים שלה, וכדי לשלוח 0 היא צריכה לשלוח את ההופכי מהרצף. אלה הן התבניות היחידות הניתנות לשליחה. דוגמה: אם לתחנה A מוקצה רצף הchip הבא (1+, 1+, 1-, 1-, 1+, 1+, 1-, 1-, 1-), אז כדי לשלוח 1 אנו שולחים את הרצף הנל, וכדי לשלוח 0 נשלח את הרצף (1-, 1-, 1+, 1-, 1-, 1+, 1+, 1+) . האמת היא שאותות עם רמות הזרמים האלה נשלחים, אך אנחנו חושבים במונחים של רצף (ניתן לראות את רמות הזרמים ב (b) להבדיל מ (a).

<div style="text-align: center;">
  <img src="/images/posts/the-physical-layer/WalshCodes.png" alt="Walsh Codes">
</div>

בתמונה לעיל, בסעיף (a), אנו רואים 4 תחנות כשלכל אחת יש קוד בינרי,[אורתוגונלי](http://en.wikipedia.org/wiki/Orthogonality) (הכוונה שחיבור כל האיברים במיקומים הזהים, של 2 תחנות, יתן 0) משלה (בשביל ליצר קוד רצף אורותוגונלי שכזה משתמשים ב [Walsh codes](http://en.wikipedia.org/wiki/Hadamard_code)), (בשביל 4 תחנות לא היינו צריכים m=8 כדי לתת קוד יחודיי לכל תחנה, אך מפני שהתחלנו עם אורך הרצף הנל נמשיך איתו). תוכנת האורתוגונליות תיווכח כקריטית מאוחר יותר. שימו לב שכל S\*S שווה ל-1 (S זהוי תחנה כלשהי). וכל S\*s שווה ל-1- (נהוג לסמן S עם קו מעליו וזהו ההפוכי של S, אך בגלל שאין סימן כזה במקלדת כתבתי s קטנה). כמו כן S\*T שווה ל-0 (T זהוי גם תחנה כלשהי אך שונה מ S).וגם עם ההופכי של T, שזה S\*t שווה ל-0.

בכל זמן, תחנה יכולה לשדר 1 (ע"י שידור של רצף הקוד האותוגונלי שלה) או 0 (ע"י שידור ההופכי של הקוד) או לא לשדר כלום. ונניח כרגע כי כל התחנות מסונכרנות כך שכל הקודים (רצף chipים) מתחילים באותו הרגע. כשכמה תחנות משדרות בו זמנית הרצפים מתאחדים לינארית, לדוגמה אם 3 תחנות משדרות 1+ ותחנה רביעית משדרת 1-, אנחנו נקבל 2+. לכן ב (c) אנחנו רואים 6 דוגמאות לתחנה אחת או יותר המשדרות רצף של 1 (ז"א כל אחת את הקוד האותוגונלי שלה). בדוגמה S1 אנחנו רואים רק את C משדרת, ובדוגמה S2 אנחנו רואים את B ואת C משדרות ביחד, לכן ב S2 אנחנו מקבלים חיבור של האיברים (לדוגמה האיבר הראשון יוצא 2- מכיוון שהאיבר הראשון של B הוא 1- וגם של C הוא 1-).

כדי לפענח את הזרם הנשלח מכל תחנה, הצד המקבל צריך לדעת מראש את הקוד של התחנה. והוא מבצע את הפענוח ע"י חישוב הזרם שקיבל כפול התחנה שאליה הוא מעוניין להקשיב חלקי m. אם ניקח את הדוגמה הרביעית, תחנה A שידרה 1, תחנה B שידרה 0, תחנה C שידרה 1, ותחנה D לא שידרה כלל. אם נרצה להקשיב לתחנה C, נכפיל את הקוד שקיבלנו בקוד של C (כמו בדוגמה S4*C שנמצאת בסעיף (d) בתמונה למעלה), נחלק ב m (שבמקרה הנל הוא 8) ונקבל 1 שזה מה ש C שידרה.

* יש לזכור ש 1+ מסמן ביט 1, 1- מסמן את הביט 0, ו-0 מסמן חוסר שידור, לכן כשאנו מקשיבים ל C בדוגמה S3 יוצא לנו 0 (כי הוא לא שידר כלל).

במציאות, במערכת CDMA ללא רעש (כמו שלמדנו כאן) מספר התחנות שיכולות לשדר במקביל הוא די גדול, ע"י שימוש ברצפי קוד ארוכים יותר. בשביל 2 בחזקת n תחנות Walsh code יכול לספק 2 בחזקת n רצפי קוד אורתוגונלים באורך 2 בחזקת n. אך ההגבלה מתבצעת ע"י הסנכרון, הסנכרון המדויק שחישבנו אצל המקבל, בדוגמה לעיל הוא אפילו לא קרוב להיות מציאותי במקרים מסויימים (כמו ברשתות סלולר, בהם CDMA אומץ ונפרס כבר משנות ה-90). אי הסנכרון הנ"ל מביא להחלטות אחרות, ואנחנו נחזור לכאן בהמשך.

&nbsp;

### 6. רשת הטלפוניה הציבורית

כשרוצים לחבר 2 מחשבים, הדרך הקלה ביותר היא למתוח כבל בינהם, וזאת הדרך בה רשתות LAN עובדות. אך כשהמרחק גדול, או כשיש הרבה מחשבים, או כשהכבל צריך לעבור דרך אזור ציבורי, העלויות של העברת כבל פרטי, לרוב, אינן כדאיות. יתר על כן, כמעט בכל מדינה בעולם, העברת קווי הולכה פרטיים באזור (או מתחת לאזור) ציבורי אסורה על פי חוק. מה שמצריך ממתכנני הרשת לבצע שימוש במתקני תקשורת קיימים.

המתקנים האלו, במיוחד PSTN (ראשי תיבות: [Public Switched Telephone Network](http://en.wikipedia.org/wiki/Public_switched_telephone_network)) תוכננו, לרוב, לפני שנים רבות, למטרה שונה לגמרי (שידור קול אנושי בצורה שתאפשר זיהוי של הצד השני). וכדי שנראה את גודל הבעיה, קחו בחשבון שהכבל הנצרך יכול להעביר מידע בין 2 מחשבים במהירות של 1Gbps או יותר (ראינו בסעיף 2 &#8211; תמסורות), בעוד ADSL טיפוסי (שהוא החלופה המהירה למודם טלפוני) מציע מהירות באזור של 1Mbps.

אך למרות כל זה, מערכת הטלפוניה מקושרת היטב עם תקשורת המחשבים. לרוב, מסיבות של עלויות, הלקוחות היו מחוברים לספקיות ע"י רשת הטלפוניה, במיוחד, בק"מ האחרון. כל זה משתנה לאחרונה ע"י הכניסה המסיבית של טכנולוגיית הפייבר, אך זה לוקח זמן וכסף, ולכן עדיין בק"מ האחרון יש המון לקוחות שמחוברים ע"י רשת הטלפוניה.

&nbsp;

**מבנה הרשת**

<div class="left">
  <img src="/images/posts/the-physical-layer/PSTN_structure.png" alt="PSTN structure" style="width: 25rem">
</div>

כבר בשנת 1876, כשאלכסנדר גרהם בל רשם פטנט על הטלפון, הייתה דרישה גדולה להמצאה החדשה. השוק הראשוני היה של טלפונים, אנשים קנו טלפונים (נייחים, ביתיים) והמכשירים הגיעו בזוגות. והיה על הלקוח לחברם עם חוט יחיד בינהם. אם בעל טלפון רצה לדבר עם n בעלי טלפונים אחרים, היה עליו למתוח חוטים נפרדים לכל n הבתים. תוך שנה ערים שלמות היו מכוסות בחוטים שנמתחו על גגות הבתים והעצים, מכל טלפון לכל טלפון אחר, כמו שניתן לראות באיור משמאל ב (a).

להגנתו, בל ראה את הבעיה מוקדם והקים את חברת Bell Telephone Company, שפתחה את משרד המיתוג הראשון ב-1878 (ב [New Haven, Connecticut](https://www.google.co.il/maps/place/New+Haven,+CT,+USA/data=!4m2!3m1!1s0x89e7d8443a8070e5:0xf6a354c659b264ed?sa=X&ei=sPjPVMXABIXPaMnigNgC&sqi=2&ved=0CKkBEPIBMBI)). כמו באיור משמאל, ב (b), החברה הריצה חוט מכל בית או משרד של לקוח אליה. על הטלפון היה גל ארכובה, וכשהלקוח רצה להתקשר, הוא היה מרים את השפורפרת ומזיז את גל הארכובה כדי ליצור צלצול בחברת המיתוג ולמשוך את צומת הלב של המפעיל, שאז היה מחבר את הלקוח אל מי שרצה להתקשר, באמצעות מגשר.

במהרה, השיטה של משרד המיתוג של בל התפשטה והלקוחות רצו לבצע שיחות למרחק גדול, בין ערים. ולכן בל התחיל לחבר את המשרדים, והבעיה ההתחלתית חזרה על עצמה (חיבור של כל משרד מיתוג עם כל משרד מיתוג). לכן הומצא משרד מיתוג ברמה שניה ובמהרה היה צורך לחבר את משרדי המיתוג ברמה השניה (כמו שניתן לראות בתמונה משמאל למעלה ב (c)). עד שלבסוף ההיררכיה גדלה עד ל-5 רמות משרדים.

עד 1890 שלושת המרכיבים העקריים היו קיימים: משרדי המיתוג, החוטים בין הלקוחות ומשרדי המיתוג (שעד עכשיו התפתחו לחוטים שזורים, בעלי בידוד, עם רגל לאדמה), וחיבור ארוך טווח בין משרדי המיתוג. למרות שהיו פיתוחים בשלושת המרכיבים האלו, השיטה של בל נשארה פחות או יותר דומה במשך 100 שנה (התיאור הבא מופשט מאוד, אך מסביר היטב ומעביר את רוח הדברים).

לכל טלפון יש חוטי נחושת שיוצאים ממנו והולכים עד למשרד הקצה של חברת הטלפון (היום, אלה קופסאות הטלפון בשכונה שלכם), משרד הקצה הזה נקרא מרכזייה, המרחק בינהם הוא בדרך כלל בין 1-10 ק"מ. בארה"ב לבד ישנם, בערך, 22,000 משרדי קצה. החוטים האלו ידועים בשם לולאה מקומית (local loop) והם חוטים שזורים (תקשורת אנלוגית).

אם מנוי המחובר למרכזייה כלשהי מתקשר אל מנויי המחובר לאותה מרכזייה, מנגון המיתוג במרכזייה מקים חיבור אלקטרוני ישיר בין שני ה local loops. החיבור הזה נשאר פעיל כל זמן השיחה. מנגד, אם מנוי המחובר למרכזייה A מעוניין להתקשר למנוי המחובר למרכזייה B, מבצעים שימוש בפרוצדורה אחרת. לכל מרכזייה יש כמות קווים יוצאים אל מרכזיית מיתוג (או כמה) אחרים באזור, המרכזיות האלו נקראות toll office. הקווים היוצאים מהמרכזייה אל מרכזיית המיתוג נקראים [toll connecting trunks](http://en.wikipedia.org/wiki/Toll_switching_trunk) (ואלה סיבים אופטיים), אם למנויים יש מרכזיית מיתוג משותפת, המיתוג יקרה כאן. באיור למעלה מצד שמאל, ניתן לראות את שלושת המרכיבים האלו (הנקודות העגולות השחורות הקטנות הן הטלפונים, המרכזיות הן הנקודות העגולות השחורות הגדולות יותר, והמרכזיית מיתוג זה הריבועים). לבסוף, אם למנויים אין מרכזיית מיתוג משותפת, יוקם חיבור בין מרכזיות המיתוג. מרכזיות המיתוג מתקשרות בעזרת [interoffice trunks](http://encyclopedia2.thefreedictionary.com/interoffice+trunk) (סיבים אופטים בעלי רוחב פס גבוה במיוחד).  
להלן מבנה הרשת:

<div style="text-align: center">
  <img src="/images/posts/the-physical-layer/LocalLoops.png" alt="Local Loops">
</div>

&nbsp;

**לולאה מקומית: מודם, ADSL, פייבר**  
נתחיל בחלק שרוב האנשים מכירים: שני חוטי הלולאה המקומית, המגיעים מהמרכזייה של חברת הטלפון אל הבתים. לרוב, מתייחסים אל הלולאה המקומית כ'ק"מ האחרון' (למרות שהאורך שלה יכול כמה קילומטרים) והיא נושאת אות אנלוגי.

הרבה מאמץ מוקדש לדחיסת מידע על חוטי הנחושת של הלולאה המקומית הפרוסים כבר (מודמים שולחים מידע דיגיטלי בין המחשבים על הערוצים הצרים של תקשורת הטלפוניה, שבכלל תוכננו לספק שידור שיחות קוליות). גם המודם וגם ADSL מתעסקים בהגבלות של הרשת (הלולאה המקומית) הישנה (רוחב פס צר, הנחתה ועיוות אותות, ורגישות לרעש אלקטרוני כמו התנגשות שידור).

&nbsp;

**מודם טלפון**

<div class="left">
  <img src="/images/posts/the-physical-layer/modem.png" alt="Modem" style="width: 25rem">
</div>

כדי לשלוח ביטים ברשת לולאה מקומית (או כל ערוץ פיזי אחר) חייבים להמירם לאותות אנלוגים שיכולים להישלח על גבי הערוץ. ההמרה הזו מושגת באמצעות שיטות האפנון (מודולציה) עליהם דיברנו בסעיף 5 (אפנון וריבוב דיגיטליים). בקצה השני האות האנלוגי מומר חזרה לביטים. המכשיר שמבצע את פעולת האפנון נקרא מודם (modem) - קיצור של [modulator demodulator](http://en.wikipedia.org/wiki/Modem). קיימים המון סוגים של מודמים: מודם טלפון, מודם DSL, מודם קווי, מודם אלחוטי וכ'ו. המודם גם יכול להיות בנוי כחלק מהמחשב (מה שנפוץ היום במודם טלפוני) או כקופסה נפרדת (שנפוץ במודם DSL וקווי). המודם ממוקם בין המחשב (דיגטלי) למערכת הטלפון (אנלוגי) כמו שניתן לראות באיוור משמאל.

מודם טלפוני משמש כדי לשלוח ביטים בין 2 מחשבים על גבי קו טלפוני ברמת קול, במקום שיחות קוליות שבדרך כלל עוברות על הקווים. הקושי העיקרי הוא השליחה על קו הטלפון, שכן קו טלפון מוגבל ל 3100Hz, רוחב הפס הזה הוא 1/4 מרוחב הפס שימש לתקשורת Ethernet או ל-802.11 (wifi). בואו נעשה את החשבון, לפי נייקוויסט גם בקו מושלם (ללא רעשים כלל, מה שקו טלפון בהחלט לא) של 3000Hz, אין טעם לשלוח סמלים בקצב גדול יותר מאשר 6000 באוד. במציאות, רוב המודמים שולחים בקצב של 2400 סמלים/שניה, או 2400 באוד. ומתמקדים בשליחת כמה ביטים לסמל תוך כדי כך שהם מאפשרים תנועה לשני הכיוונים באותו הזמן (ע"י שימוש בתדרים שונים לכיוונים השונים).

מודם של 2400bps משתמש במתח 0 וולט כדי לשלוח 0 לוגי ומתח של 1 וולט כדי לשלוח 1 לוגי, עם ביט 1 לסמל. אם נעלה רמה אחת למעלה, המודם יכול לשלוח 4 סמלים שונים (כמו 4 הפאזות המאופנות בשיטת QPSK שהצגנו כבר), כך שאם 2 ביטים/סמל אנחנו יכולים להשיג קצב נתונים של 4800bps. קצב נתונים גבוה יותר יכול להיות מושג ע"י קונסטלציה גדולה יותר. אך ככל שיש יותר סמלים, אפילו כמות קטנה של רעש יכולה לגרום לתוצאה של טעות. כדי להוריד את הסיכוי לטעות, ישנם סטנדרטים לתיקון וגילוי טעויות אותם נכיר בהמשך.

סטנדרט ה-[v.32](http://en.wikipedia.org/wiki/List_of_ITU-T_V-series_recommendations) משתמש בקונסטלציה של 32 נקודות כדי לשדר 4 ביטים של מידע ועוד ביט אחד לבדיקה, סה"כ 5 ביטים לסמל ב-2400 באוד, כדי להשיג 9,600bps. הצעד הבא הוא 14,400bps ונקרא [v.32bis](http://en.wikipedia.org/wiki/List_of_ITU-T_V-series_recommendations). הוא משדר 6 ביטים של מידע ועוד ביט אחד לבדיקה, סה"כ 7 ביטים לסמל ב-2400 באוד. אחריו מגיע ה-[v.34](http://en.wikipedia.org/wiki/List_of_ITU-T_V-series_recommendations) שמשיג 28,800bps ומשדר סה"כ 12 ביטים לסמל ב-2400 באוד (כאן, לקונסטולציה יש אלפי נקודות). ואחרון בסדרה הוא ה-[v.34bis](http://en.wikipedia.org/wiki/List_of_ITU-T_V-series_recommendations) שמשדר סה"כ 14 ביטים לסמל ב-2400 באוד ומשיג 33,600bps.

אז למה אנחנו עוצרים כאן? הסיבה שמודם סטנדרטי עוצר ב 33,600bps היא שלפי חסם שנון, הגבולות של מערכת הטלפוניה הם ב 35kbps (בהתחשב באורך ה local loops ואיכות הקווים). אך יש דרך לשנות את הסיטואציה הזו. במרכזיות, האות האנלוגי מומר חזרה לצורת שידור דיגיטלית שממשיכה בתוך רשת הטלפוניה. והגבלת ה 35kbps היא לסיטואציה שבה יש 2 local loops, אחד בכל קצה. כל אחד מהם מוסיף רעש לאות. אם נוכל להיפטר מאחד מהם, נוכל להגביר את ה SNR (יחס אות/רעש) והקצב המקסימלי יהיה כפול!

השיטה שלעיל, היא השיטה שאיפשרה את מודמים ה 56kbps. צד אחד,לרוב ה ISP (ראשי תיבות: ספק שירותי אינטרנט) מקבל מידע דיגיטלי באיכות גבוהה מהמרכזייה הקרובה. זה קורה כאשר צד אחד של החיבור הוא בעל אות באיכות גבוה, כמו שקורה ברוב ספקיות ה ISP, וקצב הנתונים המקסימלי הוא 70kbps (כשבין 2 משתמשים ביתיים עם מודם וקווים אנלוגיים, המקסימום האפשרי הוא עדיין 33.6kbps). הסיבה שמשתמשים במודמים 56kbps ולא 70kbps קשורה לחסם נייקוויסט, כל ערוץ טלפוני הוא ברוחב של 4000Hz (כולל ה guard bands), לכן מספר הדגימות לשניה שיש לקחת כדי לבנות בחזרה הוא 8000. מספר הביטים בארה"ב לדגימה הוא 8 בארה"ב (כשאחד מהם משמש לבקרה) וזה נותן 56,000 ביטים/שניה. (באירופה לא משתמשים בביט בקרה וכל הביטים זמינים למשתמשים ולכן הם יכולים להשיג 64,000kbps. אך מכיוון שנדרש סטנדרט בינלאומי, הוחלט ללכת על ה 56kbps). התוצאה הסופית היא הסטנדרטים [v.90](http://en.wikipedia.org/wiki/List_of_ITU-T_V-series_recommendations) ו-[v.92](http://en.wikipedia.org/wiki/V.92).

&nbsp;

**קווי מנויים דיגיטליים**

עד שתעשיית הטלפוניה הגיעה (סוף סוף) ל 56kbps, תעשיית הטלוויזיה הציעה מהירויות של 10Mbps (בארה"ב גם תעשיית הטלוויזיה מספקת אינטרנט). חיבור האינטרנט הפך לחלק מרכזי וחשוב מהרווחים של תעשיית הטלפוניה, והם החלו להבין כי הם צריכים מוצר מתחרה. המענה שלהם היה שירות דיגיטלי חדש על ה local loop. בהתחלה, היו הרבה הצעות חופפות של מהירות גבוהות, כולם תחת השם xDSL (ראשי תיבות: Digital Subscriber Line, ה x הינו משתנה לפי הסטנדרט).

הסיבה שמודמים כל כך איטיים היא שהטלפונים הומצאו על מנת לשאת קול אנושי, וכל מערכת הטלפוניה, בראש ובראשונה, הותאמה למטרה הזו. שידור מידע, היה האח החורג. כל לולאה מקומית מסתיימת במרכזייה, ושם החוט רץ דרך פילטר שמסנן את כל התדרים מתחת ל 300Hz ומעל 3400Hz (כמובן שהחתך אינו נקי, 300Hz ו 3400Hz הם בתווך ה 3dB כך שרוחב הפס הוא בדר"כ 4000Hz, אפילו שהמרחק אמור להיות 3100Hz). זה נעשה כדי שחברת הטלפוניה תוכל לספק יותר ערוצים (יותר לקוחות) פר מרכזייה, ועל הדרך גם הציוד יכול להיות זול ופשוט יותר (לא צריך לספק רוחב פס גדול).

<div class="left">
  <img src="/images/posts/the-physical-layer/xDSL.png" alt="xDSL" style="width: 25rem">
</div>

הטריק ב xDSL הוא שחברות הטלפוניה הורידו את הפילטרים, וכך כל רוחב הפס של הלולאה המקומית זמין למשתמשים. ההגבלה הופכת מהגבלה מלאכותית להגבלה שתלויה ביכולת הפיזית של הלולאה המקומית, שתומכת בערך ב 1MHz (ולא ה 3100Hz המלאכותיים שנוצרו ע"י הפילטר). לצערנו, הכושר של הלולאה המקומית נופל די במהירות עם המרחק של הלקוח מהמרכזייה (האות נחלש לאורך הכבל). כמובן שזה גם תלוי בעובי ואיכות החוטים השזורים. באיור מצד שמאל ניתן לראות את רוחב הפס הפוטנציאלי כפונקציה של המרחק (באיור יוצאים מנקודת הנחה ששאר התנאים אופטימלים).

xDSL תוכנן לכמה מטרות:

  1. שימוש בלולאות המקומיות (חוטים שזורים קטגוריה 3) הקיימות.
  2. שמירה על החיבורים הקיימים לטלפונים ופקסים.
  3. קצב השידור צריך להיות גבוה בהרבה מ 56kbps.
  4. הם צרכים להיות פעילים תמיד, עם חיוב חודשי ולא לפי זמן.

<div class="left">
  <img src="/images/posts/the-physical-layer/OFDM.png" alt="OFDM" style="width: 25rem">
</div>

כדי להשיג את המטרות שהציבו לעצמן חברות הטלפוניה הספקטרום הקיים (בדיוק 1.1MHz) של הלולאה המקומית, חולק ל-256 ערוצים עצמאיים של 4312.5Hz כל אחד (כמו שניתן לראות בתמונה משמאל). סכמת ה [OFDM](http://en.wikipedia.org/wiki/Orthogonal_frequency-division_multiplexing) (ריבוב בחלוקת תדר, דיברנו עליו למעלה), משמשת כדי לשלוח מידע על הערוצים האלו. ערוץ 0 משמש ל POTS (ראשי תיבות: Plain Old Telephone Service). ערוצים 1-5 ללא שימוש כלל, כדי לשמור שהתדרים של הקול ושל המידע לא יפריעו אחד לשני. שאר ה-250 ערוצים משמשים להעלה והורדה של מידע (ספקים מחלקים לרוב את רוחב הפס כך ש80%-90% מהערוצים שלו מיועדים להורדה, מכיוון שלרוב, זהו השימוש העקרי של המשתמשים, ומפה נגזרת האות "A" ב ADSL המייצגת Asynchronous).

הסטנדרט הבינלאומי ADSL (שגם ידוע בתור [G.dmt](http://en.wikipedia.org/wiki/G.992.1)) התקבל בשנת 1999 ואפשר מהירויות הורדה של עד 8Mbps והעלה של עד 1Mbps. הוא הוחלף בשנת 2002 לגרסה השניה שלו שנקראה [ADSL2](http://en.wikipedia.org/wiki/G.992.3), עם שיפור במהירות ההורדה לעד 12Mbps והעלה עד 1Mbps. היום יש לנו את [+ADSL2](http://en.wikipedia.org/wiki/G.992.5), המכפילה את מהירות ההורדה לעד 24Mbps ע"י הכפלת רוחב הפס ל 2.2MHz (חוטים שזורים שונים).

<div class="left">
  <img src="/images/posts/the-physical-layer/Typical_Arrangement_of_ADSL.png" alt="A tpical arrangement of ADSL" style="width: 25rem">
</div>

בכל ערוץ, מתבצע אפנון QAM (גם עליו דיברנו בסעיף הקודם) בקצב של (בערך) 4000 סמלים/שניה. איכות כל ערוץ מנוטרת באופן סדיר ולפיכך מתאימים את הקונסטלציה של האפנון, ולכן לכל ערוץ יתכן קצב נתונים שונה. בערוץ בעל SNR (יחס אות לרעש) גבוה יכולים להישלח עד 15 ביטים לסמל, ועד ל-2 ביטים, ביט אחד או אפילו 0 ביטים בערוץ בעל SNR נמוך. בתמונה מצד שמאל אנחנו רואים סידור טיפוסי של ADSL. בסכמה הזו, טכנאי חברת הטלפוניה צריך להגיע לבית הלקוח כדי להתקין NID (ראשי תיבות: Network Interface Device), בקרבת מקום ל NID (או לפעמים הם מגיעים ביחד באופן מובנה) ישנו Splitter, המפצל הוא פילטר אנלוגי המפריד בין הרצועה לשימוש ה POTS (טווח 0-4000Hz) לדאטה. הטלפון או הפקס מחוברים אליו ישירות, בעוד המחשב מחובר למודם (בדרך כלל באמצעות כבל Ethernet) שמעבד את האות ומאפנן אותו (OFDM).

בקצה הלולאה המקומית, במרכזייה, מותקן גם Splitter, כאן הוא מסנן בין האות של הקול (שמועבר למתג של הקול), וכל אות מעל 26kHz מופנה למכשיר הנקרא DSLAM (ראשי תיבות: Digital Subscriber Line Access Multiplexer), שמכיל מעבד לאות הדיגיטלי המקביל לזה הקיים במודל ADSL. כשהביטים שוחזרו מהאות, הפאקטות נשלחות אל הספקית (ISP).

&nbsp;

**סיבים עד הבית**

פריסת לולאות מקומיות מנחושת מגבילות את הביצועים של ה ADSL והמודמים. כדי שחברות הטלפוניה יוכלו לספק מהירויות גבוהות יותר, הן משדרגות את הלולאות המקומיות בכל הזדמנות שיש להן, ע"י התקנה של סיבים אופטיים עד לבית הלקוח (או המשרד). לתוצאה הזו קוראים FttH (ראשי תיבות: Fiber To The Home). בעוד הטכנולוגיה קיימת כבר זמן מה, הפריסה הנרחבת המריאה בעיקר משנת 2005.

כמו החוטי נחושת, גם הלולאות המקומיות מסיבים הן פאסיביות. זה אומר שלא דרוש ציוד חשמלי כדי להגביר את האות או תהליך דומה. הסיב פשוט נושא את האות מהבית למרכזייה. בדרך כלל, הסיב מהבית מתחבר כך שרק סיב אחד מגיע אל המרכזייה (לקבוצה של עד 100 בתים). בצד של ההורדה, קיימים מפצלים אופטיים שמחלקים את האות מהמרכזייה כדי שיגיע לכל הבתים. כמובן שהצפנה היא דבר הכרחי לאבטחה כדי שרק בית אחד יוכל לפענח את האות. בצד של ההעלאה, מחברים אופטיים ממזגים את האות מהבתים לאות אחד שמתקבל במרכזייה.

<div class="left">
  <img src="/images/posts/the-physical-layer/PON.png" alt="PONs" style="width: 25rem">
</div>

הארכיטקטורה הזו נקראת PON (ראשי תיבות: Passive Optical Network), וניתן לראותה בתמונה משמאל. שיתוף התמסורת בצד ההורדה, ועוד אחד לצד ההעלאה היא דבר נפוץ. אפילו לאחר הפיצול, רוחב הפס האדיר, ואי הדילול של האות הקיים בסיבים מאפשרים ל PON לספק קצב נתונים גבוה למרחק של עד 20 ק"מ. המהירות הממשית תלויה בסוג ה PON, וקיימים 2 סוגים נפוצים: GPONs (ראשי תיבות: Gigabit-capable PONs), שמוגדר ע"י ה ITU. ו EPONs (ראשי תיבות: Ethernet PONs) שמוגדר ע"י ה IEEE. כששניהם מספקים בסביבות האחד גיגה ביט.

כדי לחלק את קיבולת הכבל בין הבתים, צריך איזשהו פרוטוקול. בצד ההורדה, המרכזייה שולחת את המידע לכל בית באיזה סדר שהיא רוצה. אך בצד ההעלאה, המידע לא יכול להישלח באותו הזמן, אחרת אותות שונים יתנגשו. בנוסף, הבית לא יכול לשמוע את השידור של שאר הבתים, כך שהם לא יכולים להקשיב לקו ולבדוק שניתן לשדר. הפתרון הוא ציוד בבית, שיעניק תאי זמן לבתים לשידור, ע"י המרכזייה. כדי שזה יעבוד, ישנו תהליך המתאים את זמני השידור מהבתים, כך שכל האותות שיתקבלו במרכזייה יהיו מסונכרנים.

&nbsp;

**Trunking וריבוב (Multiplexing)**

[Trunking](http://en.wikipedia.org/wiki/Trunking) היא דרך של המערכת כדי לספק גישה ללקוחות רבים ע"י שיתוף מערכת של קווים או תדרים, במקום לספק אותם בנפרד. זהו מבנה המקביל למבנה של עץ. הגזע (Trunk) הוא ערוץ שידור יחיד בין שתי נקודות, כל נקודה יכולה להיות מרכז המיתוג או הצומת. הגזעים מובילים אלפי, אפילו מיליוני, שידורים במקביל.

השיתוף חשוב להשגת קנה מידה גדול, מכיוון שעלויות ההתקנה והתחזוקה של גזע בעל רוחב פס גבוה, הם בדיוק כמו אחד בעל רוחב פס נמוך. השיתוף מושג באמצעות סוגים שונים של ריבוב TDM וריבוב FDM.

&nbsp;

**הפיכת אותות קול (אנלוגיים) לדיגיטליים**  
בתחילת הדרך, הליבה של מערכת הטלפוניה טיפלה בשיחות כמידע אנלוגי. נעשה שימוש רב בטכניקת FDM כדי לרבב את הערוצים ברוחב פס 4000Hz (שהם 3100Hz עם מרווחי (guard) רצועה). כמובן שעדיין נעשה שימוש ב FDM היום, על גבי חוטי נחשות וערוצי מיקרו-גל. אך FDM דורש מעגל אנלוגי (דבר שלא נעשה ע"י המחשב). לעומת זאת, ב TDM ניתן לטפל ע"י אלטרוניקה דיגיטלית, ולכן הוא הפך לנפוץ הרבה יותר בשנים האחרונות.

מכיוון ש TDM משמש למידע דיגיטלי, והלולאות המקומיות מטפלות במידע אנלוגי, יש להמיר את המידע מאנלוגי לדיגיטלי במרכזייה (היכן שכל הלולאות המקומיות העצמאיות מגיעות ביחד ומתחברות לגזע (trunk). האותות האנלוגים מומרים לדיגיטלים ע"י מכשיר שנקרא קודק ([codec](http://en.wikipedia.org/wiki/Codec)), שזה קיצור של coder-decoder. הקודק לוקח 8000 דגימות לשניה (125 מילי שניות/דגימה) בשל חסם נייקוויסט (עליו דיברנו בתחילת הפוסט, והוא הוכיח כי מספר הדגימות הנ"ל הוא מספיק בכדי לשחזר את המידע מערוץ ברוחב פס 4kHz). כל דגימה של האמפליטודה של האות מכומתת למילת קוד בת 8 ביטים. הטכניקה הזו נקראת [PCM](http://en.wikipedia.org/wiki/Pulse-code_modulation) (ראשי תיבות: Pulse Code Modulation), והיא מהווה את הבסיס למערכת הטלפוניה המודרנית.

קיימים 2 סוגים של כימות: u-low שנפוץ בעיקר בארה"ב ויפן, ו A-low שנפוץ באירופה ובשאר העולם. אך 2 הגרסאות נמצאות תחת הסטנדרט [ITU G.711](http://en.wikipedia.org/wiki/G.711).

&nbsp;

**ריבוב בחלוקת זמן**

TDM (ראשי תיבות: Time Division Multiplexing), מבוסס על PCM, משמש להעביר כמה שיחות על גבי גזעים (Trunks) ע"י שליחת דגימה מכל שיחה, כל 125 מילי שניות. השיטה בה משתמשים בצפון אמריקה ויפן נקראת T1 (יותר נכון DS1, והספקית נקראת T1, אך בתעשייה השם שנקלט הוא פשוט T1 לכן נמשיך איתו) ובה, כל מסגרת מחולקת ל-24 ערוצים המרובבים ביחד. כל אחד מה-24 ערוצים, בתורו, זוכה להכניס 8 ביטים למסגרת. ז"א שהמסגרת מכילה 24*8 = 192 ביטים, ועוד אחד למטרות בקרה, ז"א 193 ביטים כל 125 מילי שניות, מה שנותן 1.544Mbps.

<div class="left">
  <img src="/images/posts/the-physical-layer/TDM.png" alt="TDM" style="width: 25rem">
</div>

חלק מהביטים במסגרת משמשים לאיתות ועוד אחרים לסנכרון. בגרסה אחת, הביטים נפרסים לאורך כל המסגרת (מתפרסים לכל אורך 24 הערוצים), שיטה זו נקראת [Extended superframe](http://en.wikipedia.org/wiki/Extended_superframe). שישה ביטים (במקומות ה-4, 8, 12, 16, 20 ו-24) משמשים כדי ליצור את התבנית 001011. ובאופן רגיל, המקבל יחפש את התבנית הזו כדי לא לאבד את הסינכרון. עוד 6 ביטים משמשים כדי לשלוח קוד לבדיקת שגיאות (בהמשך נרחיב על נושא בדיקת השגיאות). 12 הביטים הנותרים משמשים לשליטה במידע ותחזוק רגיל של הרשת (כמו ביצועים טובים יותר, ומנגנוני אישור (עליהם נרחיב בהמשך)).

מחוץ לארה"ב ויפן, מבצעים שימוש בשיטה הנקראת E1 המספקת 2.048Mbps. בשיטה זו ישנם 32 דגימות בנות 8 ביטים כל אחת שארוזות לתוך מסגרת הנשלחת כל 125 מילי שניות. 30 מהערוצים משמשים לשליחת מידע, ועוד 2 משמשים לאיתות וסנכרון. ז"א שכל 4 מסגרות מספקות 64 ביטים לאיתות וסנכרון, חצי מהם משמשים לאיתות והחצי השני משמשים לסנכרון (או במקרים פרטיים לדברים אחרים, כל מדינה והחלטת השימוש שלה).

<div class="left">
  <img src="/images/posts/the-physical-layer/T1-T2-T3-T4.png" alt="T1 to T2 to T3 to T4" style="width: 25rem">
</div>

ריבוב בחלוקת זמן מאפשר לכמה תשתיתי T1 לבצע ריבוב לתשתית גדולה יותר, בדיוק כמו באיור משמאל. בצד השמאלי ביותר אנחנו רואים 4 תשתיות של T1 המרובבים כ-4 ערוצים לתוך T2. הריבוב לתוך T2 נעשה ביט אחרי ביט (ולא בייט אחרי בייט, הרי יש 24 בייטים (כל בייט מכיל 8 ביטים)). כדי לספק מקום ל-4 ערוצי T1, אנחנו צרכים תשתית ברוחב פס של 6.176 (1.544*4), אך בפועל, T2 מספק 6.312Mbps. הביטים אקסטרה שיש לנו משמשים למסגור (בדיוק כמו הביט הראשון בכל מסגרת של T1) ואישוש (במקרה וביטים נאבדים בדרך). ברמה הבאה, 7 T2 מתחברים ל T3, ולאחריו 6 T3 מתחברים ל T4.

הסכמה בארה"ב כמו שהבנתם היא 4,7,6. אך הסטנדרט של ה ITU קורא לבצע ריבוב בכל רמה ל-4 מסגרות. בנוסף, גם המסגור והביטים השמורים להתאוששות שונים בארה"ב מאשר הסטנדרט של ה ITU. הסטנדרט של ה ITU מצריך היררכיה של 2.048, 8.949, 34.304, 139.264, 565.148 Mbps.

&nbsp;

**SONET / SDH**

בשנים הראשונות של הסיבים האופטיים, לכל חברת טלפוניה הייתה מערכת TDM לסיבים אופטיים אישית וקניינית. אך החיבור של חברות הטלפוניה (כדי להעביר פאקטות מאחת לשניה) היה קשה עכב אי הסטנדרליזציה. וב-1985, [bellcore](http://en.wikipedia.org/wiki/Telcordia_Technologies) (חברת מחקר ופיתוח שהוקמה בשנת 1982 מתוך הפירוק של AT&T) החלה לעבוד על סטנדרט הנקרא [SONET](http://en.wikipedia.org/wiki/Synchronous_optical_networking) (ראשי תיבות: Synchronous Optical NETwork).

לאחר מכן ITU הצטרפה למאמץ, מה שהביא לסטנדרט ה SONET והמלצות מקבילות של ה ITU (מספר G.707, G.708, G.709) ב-1989 הנקראות SDH (ראשי תיבות: Synchronous Digital Hierarchy). רוב התנועה במערכת הטלפוניה למרחקים ארוכים (לא הכבלים מהמרכזיות לבית הלקוח וכד') משתמשים בגזעים (trunks) המריצים SONET בשכבה הפיזית.

לתכנון ה SONET היו 4 יעדיים עקריים:

  1. על SONET היה לאפשר לספקים שונים לשתף פעולה. השגת המטרה הזו דרשה הגדרה של סטנדרט איתות משותף ביחס לאורך הגל, תזמון, מבנה המסוגר וכ'ו.
  2. נדרשו אמצעים לאיחוד המערכת האמריקאיות, האירופאיות והיפניות. כולן היו מבוססות על ערוצי 64kbps PCM, אך שולבו בדרכים שונות.
  3. על SONET היה לספק דרך לבצע ריבוב לכמה ערוצים דיגטלים. באותו הזמן בארה"ב בוצע שימוש ב T3 במהירות 44.736Mbps. וגם T4 היה מוגדר (אך עדיין לא בשימוש). חלק מהמשימה של SONET היה להמשיך את ההיררכיה הזו עד ל gigabits/sec (ואפילו אחרי).
  4. SONET הייתה צריכה לספק תמיכה ל OAM (ראשי תיבות: Operations, Administration, Maintenance), שהכרחיים לניהול הרשת (מערכות קודמות לא ביצעו זו בצורה מוצלחת).

החלטה מוקדמת הייתה לבנות את ה SONET כמערכת TDM מסורתית, כשכל רוחב הפס של הסיב מוקדש לערוץ אחד שמחולק לתאי זמן לתת הערוצים. ככזה, SONET היא מערכת מסונכרנת. כל שולח ומקבל קשורים לשעון משותף. הביטים בקו SONET נשלחים במרווחים מדוייקים מאוד, הנשלטים ע"י השעון הראשי (השעון מדויק ברמה של 1 חלקי 9^10).

המסגרת הבסיסית ב SONET היא בלוק של 810 בייטים הנשלחים כל 125 מילי שניות, ומכיוון ש SONET מסונכרן, המסגרות נשלחות בלי קשר לאם יש מידע לשלוח או אין. שליחת 8000 מסגרות לשניה מתאים במדויק לקצב הדגימות בערוץ PCM המשמש בכל מערכת הטלפוניה הדיגיטלית. מסגרות SONET בנות ה-810 בתים מתוארת הכי טוב בצורה של מלבן בעל 90 עמודות ו-9 שורות. ואם נחשב את המהירות, 8*810 יתן לנו 6480 ביטים, הנשלחים 8000 פעם לשניה, נותנים לנו 51.84Mbps. זהו המערך הבסיסי של ערוץ SONET, והוא נקרא STS-1 (ראשי תיבות: Synchronous Transport Signal-1).   
* כל הגזעי SONET הם מכפלות של STS-1.

<div class="left">
  <img src="/images/posts/the-physical-layer/SONET.png" alt="SONET" style="width: 25rem">
</div>

שלושת העמודות הראשונות של כל פריים שמורות למידע של מערכת הניהול. בבלוק משמאל, שלוש העמודות הראשונות הן תקורה לחלקה, ואחריהן 6 העמודות הבאות משמשות כתקורת שורה. התקורה של החלקה, נוצרת ונבדקת בהתחלה ובסוף של כל חלקה (כל מסגרת SONET שנשלחת כל 125 מילי שניות), בעוד התקורה של השורה נוצרת ונבדקת בתחילת ובסוף כל שורה.

משדר SONET שולח מסגרות בעלות 810 בתים, ללא מרווחים בינהן, גם כשאין בהן מידע. מנקודת המבט של המקבל, הוא רואה זרם ביטים רציף, אז איך הוא יודע איפה מתחילה כל מסגרת? בכל מסגרת 2 הבתים הראשונים מכילים תבנית קבועה שהצד המקבל מחפש. ה-87 עמודות הנשארות בכל מסגרת מכילות 50.112Mbps של מידע של המשתמש (8000\*8\*9*87). ה SPE (ראשי תיבות: Synchronous Payload Envelope), שמכילה את המידע של המשתמש, אינה מתחילה תמיד בשורה 1 עמודה 4. אלא יכולה להתחיל בכל מקום במסגרת. מצביע לבית הראשון של ה SPE נמצא בשורה הראשונה של תקורת השורה.

היכולת של ה SPE להתחיל בכל מקום במסגרת SONET (ואפילו להתרחב על 2 מסגרות, כמו שניתן לראות באיור למעלה משמאל), מאפשרת גמישות גבוה למערכת. לדוגמה: אם "מטען" מגיע (בקשה של המשתמש לשלוח או לקבל מידע) בזמן שנבנה מסגרת דמה (כמו שאמרנו, כשאין מידע לשלוח, הוא שולח מסגרות דמה על מנת להמשיך לשלוח כל הזמן). המטען יכול להיכנס למסגרת הנוכחית (בחלקה שלא נבנתה עדיין), במקום לחכות לבניית המסגרת הבאה.

&nbsp;

**ריבוב בחלוקת אורך גל**

<div class="left">
  <img src="/images/posts/the-physical-layer/WDM.png" alt="WDM" style="width: 25rem">
</div>

נוסף לכל צורת הריבוב שראינו עד כה (חלוקת תדר / חלוקת זמן / חלוקת קוד), ישנה עוד צורת ריבוב בה משתמשים לא מעט, ואפילו ביחד עם ריבוב בחלוקת זמן (TDM) (כדי לרתום את רוחב הפס העצום של סיבים אופטיים) הנקראת WDM (ראשי תיבות: Wavelength Division Multiplexing). את עקרון העבודה הבסיסי של WDM על סיבים, ניתן לראות באיור משמאל.

באיור ניתן לראות בחלקו התחתון, 4 סיבים המשתלבים לאחד ב combiner, כל אחד מהם עם אורך הגל שלו (בחלקו העליון של האיור ניתן לראות את אורך הגל של כל סיב). ארבעת הקרניים (אמרנו שבסיב אופטי עוברת קרן אור) משתלבות לסיב משותף אחד על מנת לשדר את המידע ליעד רחוק. ביעד של הסיב ישנו מפצל, splitter, המפצל אותם לכמות הקרניים שהיו בצד הנכנס. למרות הפיצול כל קרן מכילה את כל האותות, ז"א במקום קרן אחת יש לנו 4 קרניים זהות שכל אחת מהן הולכת ליעד אחר, ולפי כל יעד, על הסיב ישנו מסנן, filter, ייעודי המסנן את כל אורכי הגל למעט אחד מהם.

האמת שאין חדש תחת השמש, הפעולה שתיארנו לעיל היא ריבוב בחלוקת תדר, רק לתדרים גבוהים מאוד (לא מספר תדרים תחת ספקטרום אחד, אלא מספר תדרים שכל אחד מהם בספקטרום משלו). אז מה הסיבה ש WDM פופולרי כל כך? מכיוון שהאנרגיה בערוץ אחד היא בדר"כ רוב של כמה גיגהרץ (בגלל שזו המגבלה הנוכחית של כמה מהר אנחנו יכולים להמיר בין אותות אלקטרונים ואופטיים). ע"י כך שנריץ כמה ערוצים במקביל, כל אחד באורך גל שונה, סך רוחב הפס יוגדל לינארית במספר הערוצים. מכיון שרוחב הפס של סיב אחד הוא בערך 25,000GHz, יש תאורתית מקום ל-2,500 ערוצים של 10Gbps (אפילו ב 1bit ל Hz).

אחד מהמניעים של טכנולוגיית ה WDM היה הפיתוח של כל המכשור האופטי. פעם, כל 100 ק"מ היה צורך לפצל את הערוצים, להמיר כל אחד מהאותות בערוצים לאות אלקטרוני, להגביר את האות, ולהמירו חזרה לאותות אופטיים ומשם חזרה לשילוב של הערוצים. היום, המגברים אופטיים, ויכולים להגביר את האות עד 1000 ק"מ בלי הצורך לבצע המרה חזרה לאות אלקטרוני.

בתמונה שלמעלה מצד שמאל, אנו רואים מערכת WDM קבועה. ביטים מהסיב הנכנס 1 (הביטים מסומנים בעזרת למאדה 1) מגיעים לסיב היוצא 3 (חפשו את הביטים למאדה 1) וכד'. אך אפשרי גם לבנות מערכת WDM המסוגלת לבצע החלפות, גם בתחום האופטי. במכשיר שכזה הפילטר היו מתוכנן ע"י שימוש ב[אינטרפרומטריה](http://en.wikipedia.org/wiki/Interferometry) (טכניקה לפיצול ואיחוד של גל) [Fabry-Perot](http://en.wikipedia.org/wiki/Fabry%E2%80%93P%C3%A9rot_interferometer) או ב [Mach-Zehnder](http://en.wikipedia.org/wiki/Mach%E2%80%93Zehnder_interferometer).

&nbsp;

**מיתוג**

מנקודת המבט של מהנדס הטלפון הממוצע, מערכת הטלפון מחולקת ל-2 חלקים עיקריים: החלק החיצוני (הלולאות המקומיות - local loops, הצמתים - trunks), והחלק הפנימי (המתגים - switches). עד כה דנו בחלק החיצוני, כעת הגיע הזמן להסתכל על החלק הפנימי.

כיום, משתמשים בשתי שיטות מיתוג שונות: מיתוג מעגל (circuit switching), ומיתוג מנות (packet switching). מערכת הטלפוניה המסורתית מבוססת על מיתוג מעגלי, אך מיתוג מנות מתחיל לחדור עם העליה ב VOIP (ראשי תיבות: Voice Over IP).

<div class="left">
  <img src="/images/posts/the-physical-layer/circuitSwitching.png" alt="Circuit Switching" style="width: 28rem">
</div>

&nbsp;

**מיתוג מעגל**

בעקרון, כשאתם (או המחשב שלכם) מבצע שיחה טלפונית, ציוד המיתוג במערכת הטלפונית מחפש דרך (אמיתית, על הכבל) מהטלפון שלכם, כל הדרך אל היעד. הטכניקה הזו מודגמת באיור מצד שמאל (a). כל אחד מ-6 המלבנים מייצג מרכזייה, ובמקרה הזה לכל מרכזייה יש 3 קווים נכנסים ו-3 יוצאים. כשהשיחה עוברת במרכזייה נוצר חיבור פיזי מהצד בו השיחה נכנסה לצד בו היא יוצאת.

בימים הראשונים של תעשיית הטלפון, החיבור נעשה באופן ידני ע"י מרכזניות שחיברו כבל מגשר לשקע של השיחה הנכנסת ולשקע של שיחת היעד. ובמאה ה-19, קצת לאחר המצאת הטלפון, הומצא ציוד המיתוג המעגלי האוטומטי, ע"י קברן בשם [Almon B. Strowger](http://en.wikipedia.org/wiki/Almon_Brown_Strowger), ולהלן הסיפור מאחורי ההמצאה: קצת לאחר המצאת הטלפון, כשמישהו מת אחד הקרובים היה מתקשר למפעילה המקומית ואומר "בבקשה תקשרי אותי עם הקברן", לצערו של מר סטראוג'ר היו 2 קברנים בעיירה, הוא עצמו ועוד בחור. אשתו של הבחור השני הייתה אחת המרכזניות במפעילת הטלפון המקומית, ואתם יכולים לנחש לאן זה הולך. בקיצור, מהר מאוד הוא הבין שאם לא ימציא את ציוד המיתוג האוטומטי הוא יפשוט את הרגל.

<div class="left">
  <img src="/images/posts/the-physical-layer/packetSwitching.png" alt="Packet Switching" style="width: 28rem">
</div>

כמובן שמאז הציוד הפיזי השתנה, אך הרעיון המקורי נשאר כשהיה: כששיחה הוקמה, דרך יעודיית בין הצדדים "תיבנה" ותישאר מחוברת (ללא שינוי) כל עוד השיחה מתקיימת. וזוהי תכונה של מיתוג מעגלי, הצורך שלו להקים חיבור שלם, מקצה לקצה, לפני שעוד נשלח איזשהו מידע. בשל תכונה זו, הזמן בין סיום החיוג לתחילת צלצול הטלפון ביעד יכול בקלות להיות 10 שניות, ואפילו יותר במרחקים ארוכים או שיחות בינלאומיות. בזמן הזה, מערכת הטלפון "צדה" אחר דרך קישור, כמו שניתן לראות בתמונה משמאל (a).

אך מהרגע שהוקם חיבור, העיכוב היחיד של המידע הוא העיכוב של האות האלקטרומגנטי שנשלח בתשתית, שזה בערך 5 מילי שניות ל-1,000 ק"מ.

&nbsp;

**מיתוג מנות**

האלטרנטיבה המודרנית יותר למיתוג מעגלי, זהו מיתוג מנות, הניתן לראותו בתמונה הראשונה למעלה (בתחילת מיתוג מעגל) משמאל, ב (b). הרעיון כאן, הוא שהמנות המכילות מידע נשלחות ישר כשהן מוכנות, ואין צורך להקים חיבור ישיר לפני כן (בניגוד למיתוג מעגלי). כל מנה נשלחת לבדה, ועל תחנות המיתוג לאחסן ולשדר את המנות על גבי התשתית, כל אחד ליעדה.

במיתוג מעגלי, מפני שהדרך קבועה, כל המידע מגיע בסדר בו הוא נשלח, ולעומתו במיתוג מנות, יכול להיות שמנה א' שיצאה לפני מנה ב' תגיע אחריה. בנוסף כדי לא לתת למשתמשים לנצל את רוחב הפס של תחנות המיתוג האחרות (בדרך), קיימת מגבלה של גודל המנות הניתנות לשליחה.

מיתוג מנות ומעגלי שונים בעוד דרכים. אחד מהם לדוגמה הוא שמפני שבמיתוג מנות לא נשמר במיוחד רוחב פס, יכול להיות שהמנות תצטרכנה לחכות עד שישודרו מתחנת המיתוג (וכאן אנחנו נתקלים פעם ראשונה במושג חדש הנקרא תורים (Queue) או תור עיכוב (Queuing Delay)). אך מנגד, אם רוחב הפס נשמר למשתמש ספציפי, ואין כרגע זרימה של נתונים, זהו בזבוז של רוחב פס. רוחב הפס השמור אינו יכול להיות משומש ע"י ישומים אחרים. מיתוג מנות אינו מבזבז רוחב פס ולכן יעיל יותר מבחינה מערכתית.

בנוסף, מיתוג מנות עמיד יותר בפני תקלות ממיתוג מעגלי. למעשה זוהי הסיבה העקרית שלשמה הוא הומצא. אם תחנת מיתוג נופלת, במיתוג מעגלי, המעגל המשתמש בה "נהרס" ואי אפשר לשדר יותר מידע בנתיב הזה. במיתוג מנות, המנות נשלחות בדרך חלופית, "מסביב" לתחנות מיתוג המתות.

להלן תמונה המסכמת את כל ההבדלים בין מיתוג מנות למיתוג מעגלי:

|Packet Switched|Circuit Switched|Item|
|:---:|:---:|:---:|
|Not needed|Required|Call setup|
|No|Yes|Dedicated physical path|
|No|Yes|Each packet follows the same route|
|No|Yes|Packets arrive in order|
|No|Yes|Is a switch crash fatal|
|Dynamic|Fixed|Bandwidth available|
|On every packet|At setup time|Time of possible congestion|
|No|Yes|Potentially wasted bandwidth|
|Yes|No|Store-and-forward transmission|
|Per packet|Per minute|Charging|

&nbsp;

### 7. מערכת הטלפוניה הסלולרית (תאית)

גם אם מערכת הטלפוניה המסורתית (עליה דיברנו בחלק הקודם) תצליח לספק כמה גיגה בייטים ע"י סיבים אופטים מקצה לקצה (כולל הק"מ האחרון), היא לא תצליח לספק קבוצה הולכת וגדלה של משתמשים: אנשים בדרכים. היום, אנשים מצפים להיות מסוגלים לבצע שיחות טלפון, לבדוק מיילים, לגלוש וכד' בזמן נסיעה באוטו, בטיסות, בבריכה הציבורית, בזמן ריצה בפארק וכד', ובשל כך יש עניין מתמיד וגבוה ברשתות הטלפוניה האלחוטיות.

מערכת הטלפוניה האלחוטית משמשת לתקשורת WAN (ראשי תיבות: Wide Area Network). הטלפונים הנידיים (או הסלולרים) עברו 3 דורות מובהקים, ומקובל לציין אותם באמצעות 1G, 2G, 3G והם:

  1. קול אנלוגי.
  2. קול דיגיטלי.
  3. קול ונתונים דיגיטליים (אינטרנט).

מערכת הטלפוניה הסלולרית הראשונה בארה"ב תוכננה ע"י AT&T והונהגה בכל המדינה ע"י ה [FCC](http://en.wikipedia.org/wiki/Federal_Communications_Commission). כתוצאה מכך, לכל ארה"ב הייתה מערכת אחת (אנלוגית). ומכשירים ניידים שנקנו בקליפורניה (לדוגמה) עבדו בלי בעיה גם בניו יורק. בניגוד לכך, כשהטלפונים הניידים הגיעו לאירופה, לכל מדינה הייתה את השיטה והמערכת שלה. מה שהוביל לבלגן אחד גדול. אירופה למדה מהטעות הזו, ובדור השני, הדיגיטלי, היא הקימה סטנדרט אחיד (GSM). כך שהרבה מכשירים ניידים אירופאים עובדים בכל מקום באירופה. אך אז בארה"ב החליטו כי הממשלה לא צריכה להתערב בסטנדרטים של השוק, דבר שהוביל ליצירת כמה מערכות (2 עקריות) וכך טלפון נייד שעובד באחת לא יעבוד בשניה.

למרות ההתחלה המזהירה של ארה"ב, בדור השני, השימוש בטלפונים ניידים באירופה היה גדול משמעותית מבארה"ב. חלק מהסיבה לכך היא המערכת היחידה. הסיבה השניה היא שהמספרים של המכשירים הניידים בארה"ב היו מעורבבים עם המספרים של הטלפונים הביתיים המסורותיים. כך שאין דרך לדעת אם היית מתקשר לטלפון ביתי (בעלות זולה) או לטלפון נייד (בעלות יקרה הרבה יותר). וכדי למנוע מאנשים להיזהר ולהיות עצבניים בהוצאת שיחות, חברות הטלפוניה החליטו לחייב את מקבל השיחה במקום מי שמוציא אותה. כתוצאה מכך הרבה אנשים היססו לקנות טלפונים ניידים מדאגה לקבלת חשבון מנופח, רק מהצורך לענות לשיחות מתקבלות.

&nbsp;

**הדור הראשון (1G) של הטלפונים הניידים: קול אנלוגי**

בתחילת המאה ה-20, טלפוני-רדיו ניידים שימשו רק לתקשורת צבאית וימית, אך ב-1946 המערכת הראשונה לטלפון ברכב הותקנה. למערכת היה משדר אחד (גדול), על גבי בניין גבוה, ותדר אחד שימש לשלוח ולקבל שידורים. כדי לדבר, המשתמש היה צריך ללחוץ על כפתור שהפעיל את המשדר וביטל את המקלט ומכאן שמו. המערכות היו ידועות בתור [PTT](http://en.wikipedia.org/wiki/Push-to-talk) (ראשי תיבות: Push To Talk) והן הותקנו בכמה ערים בתחילת שנות ה-50, ושימשו בעיקר את נהגי המוניות, ניידות המשטרה וכד'.

בשנות ה-60, הותקן [IMTS](http://en.wikipedia.org/wiki/Improved_Mobile_Telephone_Service) (ראשי תיבות: Improved Mobile Telephone System). גם המערכת הזו נעזרה במשדר גדול (שצריך 200Watt) על גבי גבעה, אך היו לה 2 תדרים, אחד כדי לשלוח ואחד לקבל. IMTS תמכה ב-23 ערוצים שנפרסו מ 150MHz עד ל 450MHz. בשל המספר הקטן של הערוצים, לפעמים, משתמשים היו צריכים לחכות זמן רב עד שהיו מקבלים צליל חיוג, מה שהגביל מאוד את השימוש והפך אותה ללא מעשית.

&nbsp;

**מערכת טלפון ניידות מתקדמות**

כל זה השתנה עם [AMPS](http://en.wikipedia.org/wiki/Advanced_Mobile_Phone_System) (ראשי תיבות: Advanced Mobile Phone System), שהומצאה במעבדות בל ([Bell Labs](http://en.wikipedia.org/wiki/Bell_Labs)) והותקנה לראשונה, בארה"ב ב-1982. (המערכת הייתה בשימוש גם באנגליה ונקראה שם TACS, וביפן שם נקראה MSC-L1). מערכת ה AMPS בוטלה לחלוטין ב2008.

כל מערכת הטלפוניה מחולקות לאזורים גיאוגרפים הנקראים "תאים" (באנגלית cells) וזאת הסיבה שטלפונים ניידים נקראים גם טלפונים סלולריים (cellphones). ב AMPS התאים הם בין 10 ל-20 ק"מ (במערכות דיגיטליות הם קטנים יותר), כל תא עושה שימוש בסט מסוים של תדרים, ובאותו סט (טווח קטן) של תדרים לא מתבצע שימוש בתאים השכנים (הצמודים אליו) (סט זה יכול להיות בשימוש ע"י תאים אחרים, אך עליהם להיות רחוקים ממנו, ולא צמודים אליו).

במערכת IMTS שהצגנו קודם לכן כל תא מקיף בערך 100 ק"מ, אך בתחום הזה יש רק תדר אחד, בעוד במערכת AMPS יש 100 תאים של 10 ק"מ (באותו אזור של 100 ק"מ ב IMTS) כך שכל 10-15 תאים על אותו תדר (אך חשוב שהם לא יהיו תאים שכנים, כמו שציינו כבר). העיצוב הזה של המערכת מגביר את יכולת המערכת לתמוך ביותר שיחות בו זמנית. תאים קטנים יותר אומר שנדרש פחות כוח וזה מוביל למשדרים קטנים וזולים יותר.

<div class="left">
  <img src="/images/posts/the-physical-layer/Cells.png" alt="Cells" style="width: 28rem">
</div>

באיור משמאל ניתן לראות את הרעיון של התאים (a), נהוג לציירם כמשושה אך במציאות הם יותר עגולים וכמובן אינם כה סימטרים. ניתן לראות באיור כי גם כל התאים באותו גודל ומקובצים בקבוצות של 7 תאים. כל אות (בתוך התא) מסמלת קבוצה של תדרים (שימו לב כי לכל קבוצת תדרים הנמצאת בתאים שונים יש 2 תאים המפרידים ביניהם כדי למנוע הפרעות). באזורים בהם מספר המשתמשים גדל עד לנקודה בה יש עומס על המערכת, ניתן להוריד את ההספק של המשדר באנטנה באזור על מנת לחלק את האזור לתאים קטנים יותר (כמובן שיש לפרוס עוד אנטנות ולהתחשב בחילוק של התדרים כך שיהיה חוצץ של 2 תאים לפחות עד לחזרה על אותו סט תדרים). עקרון זה מודגם באיור משמאל ב(b).

מפעילות הסלולר יוצרות לפעמים מיקרו תאים כאלו, בעזרת אנטנות ניידות המקושרת ע"י לווין, על מנת לתת כיסוי באופן זמני למקום זמני (כמו באירועי ספורט בהם מתקבצים קבוצה גדולה של אנשים במקום אחד לכמה שעות, או בהפגנה הגדולה שהייתה ב-2011 וכד').

באמצע כל תא ישנה תחנת קרקע אליה כל התשדורות (השיחות) מועברות. תחנת הקרקע מכילה מחשב ומשדר / מקלט המחובר לאנטנה. במערכת קטנה, כל תחנות הבסיס מחוברות למכשיר הנקרא [MSC](http://en.wikipedia.org/wiki/Network_switching_subsystem#Mobile_switching_center_.28MSC.29) (ראשי תיבות: Mobile Switching Center), ובמערכת גדולה ידרשו כמה MSC כשהם מחוברים ל MSC ברמה שניה, וכך הלאה. MSC הוא בעקרון מרכזייה והם מחוברים לפחות לעוד מרכזייה (MSC) אחת (בדיוק כמו במערכת הטלפוניה המסורתית). ה MSC מתקשר עם תחנת הבסיס (האנטנה), בינם לבין עצמם, ועם מערכת ה PSTN (רשת הטלפוניה הציבורית מהסעיף הקודם), בעזרת מערכת מיתוג מנות.

בכל רגע, כל טלפון נייד נמצא בתא ספציפי ותחת אותה תחנת בסיס (אנטנה). כאשר הטלפון הנייד עוזב את התא, תחנת הבסיס האחראית עליו שמה לב שהאות נחלש ושואלת את התחנות מסביבה מה חוזק האות שכל תחנה מקבלת ממנו. כאשר התשובות מגיעות, תחנת הבסיס מעבירה את הבעלות על אותו טלפון נייד לתחנת הבסיס המקבלת את האות החזק ביותר מאותו טלפון נייד. העברת הבעלות מתבצעת ע"י יידוע לאותו טלפון מי "הבוס" החדש שלו. אם הטלפון הנייד בזמן שיחה, הוא מתבקש להחליף לערוץ (סט תדרים) חדש (בו התחנה החדשה משתמשת), תהליך זה נקרא מסירה (handoff) והוא לוקח בערך 30 מילי שניות. תהליך הבדיקה והיידוע מתבצע ע"י ה MSC, תחנות הבסיס הם אנטות רדיו בעלות מקלט ומשדר, ובעקרון די טיפשות.

&nbsp;

**ערוצים**

AMPS משתמש בריבוב FDM כדי להפריד בין הערוצים. המערכת עושה שימוש ב-832 ערוצים דו כיוונים, כל ערוץ כזה מכיל זוג ערוצים חד כיווניים. הסידור הזה ידוע כ [FDD](http://en.wikipedia.org/wiki/Duplex_(telecommunications)) (ראשי תיבות: Frequency Division Duplex). מה שנוצר בעצם זה 832 ערוצים חד כיווניים מ 824MHz עד 849MHz המשמשים לתקשורת מהטלפון לתחנת הבסיס, ו-832 ערוצים חד כיווניים מ 869MHz עד 894MHz המשמשים לתקשורת מתחנת הבסיס אל הטלפון. כל ערוץ חד כיווני כזה הוא ברוחב 30kHz.

832 הערוצים מחולקים ל-4 קטגוריות:

  1. ערוצי שליטה (Control) - מתחנת הבסיס לטלפון הנייד, משמשים לניהול המערכת.
  2. ערוצי איתור (Paging) - מתחנת הבסיס לטלפון הנייד, מיידעים את הטלפון הנייד.
  3. ערוצי גישה (Access) - דו כיווניים, משמשים להתקנת שיחה ומסירת ערוצים.
  4. ערוצי מידע (Data) - דו כיווניים, נושאים קול או מידע.

מכיוון שכל קטגוריה צריכה מס' ערוצים להעביר את המידע שלה, בסופו של דבר נשארים בערך 45 ערוצים (מתוך ה-832) כדי להעביר בהם מידע.

&nbsp;

**ניהול שיחה**

לכל טלפון נייד בטכנולוגיית AMPS יש מספר סריאלי באורך 32 ביט, ומספר טלפון באורך 10 ספרות, המידע הזה שמור בזכרון, במכשיר, המיועד לקריאה בלבד. מספר הטלפון מיוצג ע"י 3 ספרות לאזור החיוג (השמורות ב-10 ביטים), ו-7 ספרות של מספר המנוי (השמורות ב-24 ביטים).

כשהטלפון מופעל הוא סורק 21 ערוצי שליטה קבועים, המתוכנתים מראש, ומוצא את האות החזק מבינהם. לאחר מכן הטלפון משדר לתחנה את 32 הביטים של המס' הסיריאלי ואת 34 הביטים של מס' הטלפון, המידע הזה נשלח בצורה דיגיטלית (למרות שהערוץ אנלוגי), כמה פעמים, עם קוד לתיקון שגיאות (נלמד על קודים כאלו בהמשך). כאשר תחנת הבסיס שומעת את ההכרזה הזו היא מעבירה את ההכרזה ל MSC שמקליט את הקיום של הלקוח החדש שלו ומיידע את MSC הבית של הלקוח (זה שהיה קודם) במיקום הנוכחי של הלקוח. באופן נורמלי, פעולת הרישום מתבצעת פעם ב-15 דק'.

כדי לבצע שיחה, המשתמש מכניס את המספר אליו הוא מעוניין לחייג, בטלפון הנייד, ולוחץ על send, לאחר מכן הטלפון הנייד מעביר את המספר איתו יש ליצור קשר ואת הזהות שלו עצמו, על גבי ערוצי הגישה (אם קיימת התנגשות הוא מנסה שוב), כאשר תחנת הבסיס שומעת את הבקשה היא מיידעת את ה MSC. אם המספר איתו יש ליצור קשר שייך לאותה חברה, ה MSC מחפש ערוץ פנוי ומשדר אותו חזרה (בעזרת תחנת הבסיס) לטלפון הנייד על גבי ערוצי הגישה. הטלפון הנייד מחליף באופן אוטומטי לערוץ המידע הנחבר ומחכה שהצד השני יענה.

שיחות נכנסות עובדות באופן שונה, נתחיל בכך שטלפון במצב פנוי (Idle) מאזין תמיד לערוץ האיתור כדי לגלות הודעות המיועדות אליו. כאשר מתבצעת שיחה, נשלחת מנה מ MSC הבית (בו הטלפון הנייד שחייג, נמצא) כדי לאתר איפה היעד (הטלפון אליו מחייגים) נמצא, לאחר מכן נשלחת המנה אל ה MSC בו היעד נמצא, ומשם לתחנת הבסיס שבו הוא נמצא, תחנת הבסיס שולחת שידור broadcast על גבי ערוץ האיתור בסגנון "יחידה 14, האם את שם?", הטלפון הנייד מגיב ("כן") ואז מתבצע שידור נוסף (עדיין על גבי ערוץ האיתור) המיידע את הטלפון הנייד כי יש לו שיחה בערוץ x, המכשיר הנייד מחליף לערוץ שניתן לו ומתחיל לצלצל.

&nbsp;

**הדור השני (2G) של הטלפונים הניידים: קול דיגיטלי**

הדור הראשון של הטלפון הנייד היה אנלוגי, הדור השני דיגיטלי. למעבר לאות דיגיטלי יש כמה יתרונות מפתח: הוא מאפשר יכולת גדולה יותר, שמושגת ע"י דחיסה של האות. המעבר מאפשר גם הצפנה של האות, ולבסוף הוא מאפשר גם שירותים חדשים כמו הודעות טקסט (SMS).

בדיוק כמו שבדור הראשון לא הייתה סטנדרטיזציה, כך גם לא היה בדור השני. כמה מערכות שונות פותחו, אך 3 מהם נפרסו בצורה רחבה. [D-AMPS](http://en.wikipedia.org/wiki/Advanced_Mobile_Phone_System#Digital_AMPS) (ראשי תיבות: Digital Advanced Mobile Phone System) זוהי גרסה דיגיטלית של AMPS עם אותו עקרון, אך מתבצע שימוש גם ב TDM כדי לרבב מס' שיחות על אותו ערוץ תדר. השני הוא [GSM](http://en.wikipedia.org/wiki/GSM) (ראשי תיבות: Global System for Mobile Communications) העושה שימוש בריבוב של TDM ו FDM. והאחרון [CDMA](http://en.wikipedia.org/wiki/Code_division_multiple_access) (ראשי תיבות: Code Division Multiple Access), זוהי מערכת שונה לגמרי שלא עושה שימוש ב FDM או ב TDM, למרות שזו אינה המערכת השולטת בדור השני (הלא היא GSM שהייתה בשימוש נרחב ביותר בדור הזה) הטכנולוגיה שלה היא הבסיס למערכות הדור השלישי.

&nbsp;

**GSM - Global System for Mobile Communications**

GSM החל את חיו בשנות ה-80 כמאמץ לייצר סטנדרט 2G אירופאי אחיד. המערכת הראשונה הונחה כבר בשנת 91 והייתה להצלחה, ונעשה מובן כי GSM לא יהיה סטנדרט אירופאי בלבד. מערכת ה GSM (כמו גם שאר המערכות שנציין בהמשך) מבוססות על מערכות הדור הראשון ומשמרות את החלוקה לתאים, השימוש החוזר בתדרים והניידות מתא לתא באמצעות תהליך המסירה (handoff). השוני בינהם הוא בפרטים. כמו כן ישנם גם הרבה שינויים עליהם לא נדבר כאן, כמו היבטים הנדסיים של המערכת, ובמיוחד העיצוב של המקלט (כדי להתמודד עם התפשטות וריבוי אותות), וסנכרון של המשדרים והמקלטים.

<div class="left">
  <img src="/images/posts/the-physical-layer/AMPS.png" alt="AMPS" style="width: 28rem">
</div>

באיור משמאל ניתן לראות שהארכיטקטורה של GSM ושל AMPS די דומות, למרות שלרכיבים יש שמות שונים. הטלפון הנייד מחולק לברזל עצמו (המכשיר) ול [SIM](http://en.wikipedia.org/wiki/Subscriber_identity_module) (ראשי תיבות: Subscriber Identity Module), הסים מפעיל את המכשיר ומאפשר לרשת ולטלפון הנייד לזהות אחד את השני, ובנוסף מצפין את השיחות בינהם.

הטלפון הנייד "מדבר" עם תחנת הבסיס דרך ממשק אוויר. כל תחנת בסיס מחוברת ל BSC (ראשי תיבות: Base Station Controller) השולטת במשאבי הרדיו של התא ובנוסף מטפלת בתהליך המסירה (handoff). ה BSC מחובר ל MSC שאחראי על ניתוב השיחות ובנוסף מחובר לרשת ה PSTN. כדי לדעת לנתב את השיחות, ה MSC צריך לדעת איפה המנוי נמצא, ולכן הוא שומר מסד נתונים של הטלפונים באזור אותו הוא מנהל, מסד הנתונים הזה נקרא VLR (ראשי תיבות: Visitor Location Register). בנוסף, קיים עוד מסד נתונים המכיל את המיקום האחרון של כל טלפון (ברשת כולה) ונקרא HLR (ראשי תיבות: Home Location Register).

<div class="left">
  <img src="/images/posts/the-physical-layer/Frequency_Range.png" alt="Frequency Range" style="width: 28rem">
</div>

GSM פועלת על טווח עולמי של תדרים הכולל את 900MHz, 1800MHz, 1900MHz. ברשת הנל מוקצה ספקטרום רחב יותר מזה שב AMPS כדי לתמוך במספר גדול יותר של משתמשים. GSM היא מערכת סלולרית המבצעת שימוש בריבוב בחלוקת תדר [Duplex](http://en.wikipedia.org/wiki/Duplex_(telecommunications)) (דו-קומתי) כמו AMPS, זה אומר שכל טלפון נייד משדר על תדר אחד ומקבל בשני (בתדר אחר) גבוה יותר. למרות זאת, שלא כמו AMPS, ב GSM כל זוג תדרים מרובבים ביחד בחלוקת זמן. בדרך זאת זוג התדרים יכולים להיות מחולקים לכמה טלפונים ניידים. כדי לטפל בכמה טלפונים, ערוצי GSM רחבים יותר מהערוצים ב AMPS (רוחב של 200kHz לעומת 30kHz ב AMPS). ניתן לראות ערוץ כזה ברוחב 200kHz בתמונה משמאל.

למערכת GSM הפועלת באזור ה 900MHz יש 124 זוגות של ערוצים. כל ערוץ ברוחב 200kHz ותומך ב-8 ערוצים (או יותר נכון תתי-ערוצים) (כמו שציינו, בעזרת ריבוב בחלוקת זמן), כל טלפון מוקצה לחריץ זמן בזוג הערוצים. תיאורטית ניתן לספק בכל תא 992 ערוצים, אך הרבה מהערוצים אינם זמינים, וזאת על מנת להימנע מהתנגשות עם התאים השכנים. באיור משמאל 8 תאי הזמן המושחרים שייכים לאותו חיבור, 4 מהם לאותו כיוון.

<div class="left">
  <img src="/images/posts/the-physical-layer/TDM_Slot.png" alt="TDM Slot" style="width: 28rem">
</div>

ה TDM שרואים באיור למעלה משמאל הוא חלק קטן ממערכת מסגור היררכית גדולה יותר. לכל חריץ TDM יש גם מבנה מסוים. באיור משמאל ניתן לראות גרסה פשוטה יותר של ההירככיה הזו. ניתן לראות בתמונה שכל חריץ TDM מכיל 148 ביטים ש"מעסיקים" את הערוץ ל-577 מיקרו שניות (כולל 30 מיקרו שניות השמורות אחרי כל חריץ למרווח ביטחון). כל חריץ כזה מתחיל ומסתיים ב-3 אפסים בשביל תיחום המסגרת, ובנוסף הוא מכיל שני שדות מידע באורך 57 ביטים לקול או מידע. בין 2 שדות המידע יש שדה סנכרון באורך 26 ביטים שבו המקבל מבצע שימוש על מנת להסתנכרן לגבולות המסגרת של השולח.

חריץ מידע כזה נשלח כל 547 מיקרו שניות, אך מסגרת כולה משודרת כל 4.615 מילי שניות, מכיוון שהוא חולקת את הערוץ עם עוד 7 משתמשים. קצב השידור של כל ערוץ כזה הוא 270,833bps המחולקים בין 8 משתמשים. כמו שניתן לראות 8 מסגרות מידע כאלו מרכיבות מסגרת TDM אחת, ו-26 כאלו מרכיבות מסגרת ברמה גבוהה יותר הנשלחת כל 120 מילי שניות. מתוך ה-26 האלו, חריץ 12 שמור לשליטה וחריץ 25 שמור לשימוש עתידי, כך שרק 24 חריצים נשארים לשימוש המשתמשים. (חריץ 12 השמור לשליטה משמש לעדכון המיקום, רישום בתחנת הבסיס, והקמת שיחה).

לבסוף, GSM שונה מ AMPS גם באופן בו הוא מטפל בתלהיך המסירה (handoff). בעוד ב AMPS ה MSC מטפל בתהליך הזה לבד (בלי עזרה של המכשיר הנייד), ב GSM המכשיר מודד את איכות האות שלו מהתחנות בסביבה (בחריצים שלא בשימוש או בזמן Idle), ושולח את המידע הזה ל BSC, ה BSC קובע בעזרת המידע הזה מתי הטלפון הנייד עוזב תא אחד ונכנס לאחר ומבצע את תהליך המסירה. עיצוב זה של התהליך נקרא MAHO (ראשי תיבות: Mobile Assisted HandOff).

&nbsp;

**הדור השלישי (3G) של הטלפונים הניידים: קול ומידע דיגיטלי**

הדור הראשון של הטלפונים הניידים היה קול אנלוגי, הדור השני היה קול דיגיטלי, והדור השלישי של הטלפונים הניידים (הנקרא גם 3G) מתמקד בקול ומידע דיגיטלי. היו כמה גורמים שהניעו את התעשייה לדור השלישי: הראשון הוא שכמות התעבורה של המידע שעוברת ברשתות, Data, כבר עברה את כמות המידע שמגיע מהעברת קול, והכמות גדלה אקספוננציאלית. השני הוא שתעשיית הטלפון, הבידור והמחשב כולם הפכו לדיגיטלים והם מתכנסים בקצב מהיר. רוב האנשים עוברים למכשירים קלים וניידים כדי לאפשר לעצמם לגלוש באינטרנט, לשלוח מיילים, לשחק בנייד, לראות סרטים / סדרות וכד', הדור השלישי מתמקד בלספק את רוחב הפס הדרוש לכך כדי לשמור על המשתמשים האלו מרוצים.

כדי להשיג זאת הוצעו כמו הצעות IMT (ראשי תיבות: International Mobile Telecommunications) ולאחר ניפוי נשארו 2:

  1. WCDMA (ראשי תיבות: Wideband CDMA) שהוצעה ע"י אריקסון ונתמכה ע"י האיחוד האירופאי שקרא לה UMTS (ראשי תיבות: Universal Mobile Telecommunications System).
  2. CDMA2000 שהוצעה ע"י קוואלקום ונתמכה ע"י ארה"ב.

שתי המערכות דומות אחת לשניה (יותר מאשר שונות) והן מבוססות על CDMA (מערכת WCDMA משתמשת בערוצים ברוחב 5MHz בעוד CDMA2000 משתמשת בערוצים ברוחב 1.25MHz). והאמת היא שאם היינו שמים את המהנדסים של קוואלקום ואריקסון בחדר אחד, הם כנראה היו מגיעים לתקן אחיד ללא כל בעיות, אולם הבעיה פה לא הייתה הנדסית, אלא פוליטית. האירופאים דחפו לרשת שתעבוד במקביל ל GSM, והאמריקאים רצו רשת שתתמוך בזאת שכבר פרוסה אצלם (IS-95). בנוסף, כל אחד תמך בחברה המקומית שלו (קליפורניה ושוודיה).

CDMA לא משתמש בריבוב TDM או FDM, במקום זאת הוא עושה שימוש בסוג של ערבוב, בו כל משתמש משדר על אותו תדר באותו זמן. כשעקרון זה הוצג לראשונה, התעשייה התייחסה אליו באותה תגובה שקיבל קולומבוס מהמלכה איזבלה כשהציע להגיע להודו ע"י הפלגה לכיוון השני. למרות זאת, ובגלל ההתעקשות של קוואלקום, CDMA הצליח במערכת דור 2 (2G) ב IS-95 ונעשה לבסיס עבור מערכות דור 3.

כדי ש CDMA יעבוד בסביבה הסלולרית יש להתאים אותו יותר מהטכניקה הבסיסית שתיארנו כבר בחלק הקודם. באופן סצפיפי, תיארנו CDMA מסונכרן, שבו רצף ה chip אורטוגונלי (מאונך) בדיוק. העיצוב הזה עובד כאשר כל המשתמשים מסונכרנים על זמן ההתחלה וכל הקודים (רצף ה chipים) שלהם מתחילים באותו הרגע, תנאי זה מתקיים כשמדובר בתחנת הבסיס, שכן תחנת הבסיס משדרת לכל הטלפונים הניידים בתא שלה, ויכולה לשדר את הקודים (רצף ה chipים) של כל הטלפונים הניידים, באותו הזמן, לכולם (ז"א שהאותות יהיו מאונכים אחד לשני וניתן יהיה להפרידם). אך ברגע שאנו רוצים לשדר מהטלפון לתחנה, התחנה לא תוכל להפריד שידורים של כמה טלפונים מכיוון שהתחנת הבסיס תשמע את השידורים שלהם בזמנים שונים. כדי לאפשר לטלפון הנייד לשלוח מידע לתחנת הבסיס ללא סנכרון, אנחנו רוצים רצף chipים שיהיו אורתוגונלים אחד לשני בכל הקיזוזים האפשריים (שחיבור כל האיברים במיקום הזהים, של 2 תחנות כלשהן יתן 0), ואנו רוצים זאת לא רק כשהם מסונכרנים לזמן ההתחלה.

למרות שלא ניתן למצוא רצף chip אורתוגונלי בדיוק למקרה הכללי הזה, רצפים [Pseudorandom](http://en.wikipedia.org/wiki/Pseudorandom_number_generator) (מחולל רצפים פסאודו אקראיים) מתקרבים מספיק. וזה מאפשר למקבל לסנן את השידורים הבלתי רצויים מהשדר המתקבל. ולכן הרצפים הפסאודו רנדומליים מאפשרים לתחנת הבסיס לקבל שידורי CDMA מטלפונים ניידים עצמאיים (לא מסונכרנים). אולם, ההנחה העקרית שהנחנו הינה שכל רמות הכוח של המכשירים יהיו אותו הדבר בצד המקבל (במקרה שלנו, תחנת הבסיס). אותם רמות כוח שמתקבלות בתחנת הבסיס תלוית בכמה רחוק המשדר נמצא ולפיכך בכמה כוח הם צרכים כדי לשדר. אז כיצד אנחנו יודעים שההנחה אכן נכונה? כדי להבטיח את נכונותה כל מכשיר ישדר לתחנת הבסיס ברמת הכוח ההופכית שהוא קיבל מתחנת הבסיס (במילים אחרות: טלפון נייד שקיבל אות חלש מתחנת הבסיס ישתמש ביותר כוח מאחד שקיבל אות חזק מתחנת הבסיס), ולשם דיוק רב יותר, כל תחנת בסיס תספק פידבק למכשיר (להגדיל, להנמיך, או להשאיר) על כוח השידור (הפידבק מתבצע 1500 פעמים בשניה, מכיוון ששליטה טובה בכוח השידור חשובה כדי לצמצם הפרעות ורעשים למינימום הניתן).

עוד שיפורים מסכמת ה CDMA הבסיסית מתבצעים כדי לאפשר למשתמשים שונים לשדר מידע בקצבים שונים. הטריק הזה מושג באופן טבעי ב CDMA ע"י קיבוע של הקצב בו משדרים רצפי chipים (קודים) והקצאה של אורך רצף (קוד) שונה. לדוגמה, ב WCDMA קצב השידור של רצף chip הוא 3.84Mchips/sec והפקת הקוד משתנה מרצף chip של 4 עד ל-256. ברצף chip עם קוד של 256, נשאר בערך 12kbps (אחרי תיקון טעויות), והרוחב הזה מספיק לשיחת טלפון קולית. אך אם נקצה רצף chip של 4 קודים, קצב שליחת המידע של המשתמש יגיע עד (בערך) 1Mbps.

אחרי שטיפלנו בבעיות שמנעו מ CDMA לעבוד, נתאר את שלושת היתרונות העקריים שלו:

<div class="left">
  <img src="/images/posts/the-physical-layer/Soft_Handoff.png" alt="Soft Handoff" style="width: 28rem">
</div>

  1. בראש ובראשונה CDMA משפר את היכולת ע"י היתרון של שימוש בחלקי זמן קטנים שבהם המשדרים שקטים. בכל שיחת טלפון, צד אחד של השיחה נמצא בשקט (לא מדבר ולפיכך לא משדר מידע) כל זמן שהצד השני מדבר. בממוצע הקו "עסוק" כ40% מהזמן. אך חלקי הזמן האלו הם קטנים וקשה לצפות אותם, ולכן מערכת TDM ו FDM, לא מסוגלות לבצע שימוש בחריצי הזמן השקטים האלו. לעומתם, ב CDMA, בכך שאתה לא משדר, אתה (בתור משתמש אחד) מוריד את ההפרעות למשתמשים האחרים (באותו התא), וברגע שמדובר על כמות של משתמשים שלא מפריעים (כל אחד לזמן קצר, כל פעם) אחוז ההפרעה הכללי בתא יורד, ולכן ניתן לתת שירות למספר גדול יותר של שיחות בו זמנית.
  2. ב CDMA, כל תא משתמש באותו התדר (שלא כמו ב GSM וב AMPS, אין צורך לבצע ריבוב בחלוקת תדר על מנת להפריד בין השידורים של המשתמשים השונים). היתרון הוא שזה מונע מהמהנדסים לבצע תכנון תדרים מסובך ומגדיל את היכולת של התא (במקום חלוקה צרה של רצועת תדר, בתא מבוצע שימוש בכל רצועת התדר האפשרית, החלוקה נעשית כמובן ע"י הקוד). בנוסף, זה מאפשר לתחנת הבסיס לבצע שימוש בכמה [אנטנות כיווניות](http://en.wikipedia.org/wiki/Sector_antenna) (במקום ב[אנטנה Omnidirectional](http://en.wikipedia.org/wiki/Omnidirectional_antenna)), אנטנות כיווניות מרכזות את האות לכיוון מסויים ומפחיתות את האות, ומכאן גם את ההפרעות בכיוונים אחרים (כמובן שהתחנה צריכה לעקוב אחרי המשתמש כשהוא נע מסקטור לסקטור (מאנטנה כיוונית לאנטנה כיוונית) בתוך התא, אך זה קל לבצע ב CDMA כי כולן משתמשות באותם תדרים).
  3. CDMA מאפשר לבצע מסירה רכה ([soft handoff](http://en.wikipedia.org/wiki/Soft_handover)), שבו תחנת הבסיס החדשה מקושרת לטלפון הנייד לפני שתחנת הבסיס הישנה התנתקה ממנו. בדרך הזו, כמות השיחות המתנתקות בזמן תנועה ירד משמעותית. CDMA מצליח לבצע זאת מכיוון שכל התחנות עובודת באותו התדר, והטלפון הנייד לא צריך להחליף תדר כדי להתחבר לתחנה החדשה. ניתן לראות איור של הפעולה בצד שמאל למעלה.

&nbsp;

### 8. טלוויזיה וכבלים

לאחר שעברנו על מערכת הטלפוניה הציבורית (הקווית) והסלולרית, ישנו עוד שחקן שיהיה בתפקיד חשוב שמשווע לחיבור אינטרנטי: רשתות הטלוויזיה בכבלים.

&nbsp;

**אנטנת טלוויזיה קהילתית**

<div class="left">
  <img src="/images/posts/the-physical-layer/Headend.png" alt="Headend" style="width: 28rem">
</div>

חברות הכבלים יזמו בסוף שנות ה-40, דרך לספק קליטה טובה יותר לבתים באזורים מרוחקים או הרריים. תחילה, המערכת הכילה אנטנה גדולה על גבי גבעה (כדי לקלוט את האות של רשתות הטלוויזיה), מגבר הנקרא headend (על מנת לחזק את האות), וכבל קואקסיאלי (כדי להעביר את האות לבתים של האנשים). ניתן לראות את הסכמה של הדרך הראשונית הזו בצד שמאל. בגלל החלוקה הקהילתית של האנטנה, בשנים הראשונות, טלוויזיה בכבלים נקראה אנטנת טלוויזיה קהילתית.

ב-1974, חברת [טיים](http://en.wikipedia.org/wiki/Time_Inc.) העלו ערוץ חדש, עם תכנים חדשים (סרטים) שהיה מופץ באופן בלעדי בכבלים. במהרה החלו לעקוב אחריהם עוד ערוצים שהציעו את מרכולתם באופן בלעדי בכבלים, והתמחו בתכנים ספציפים כגון חדשות, ספורט, בישול וכ'ו. התפתחות הזו האיצה 2 שינויים בתעשייה: הראשון, התאגידים הגדולים החלו לקנות מערכות כבלים והניחו כבלים חדשים כדי להשיג עוד מנויים. השני, כעת היה צורך לחבר כמה מערכות, לעיתים קרובות בערים מרוחקות זו מזו, על מנת להפיץ את ערוצי הכבלים החדשים. חברות הכבלים החלו להניח כבלים בין הערים על מנת לחבר את כולם למערכת אחת.

&nbsp;

**אינטרנט על גבי הכבלים**

<div class="left">
  <img src="/images/posts/the-physical-layer/HFC.png" alt="HFC" style="width: 28rem">
</div>

במהלך השנים, מערכת הכבלים גדלה והוחלפה, בין הערים, בסיב ברוחב פס מהיר. מערכות בעלות סיב למרחקים ארוכים וכבל קואקסיאלי לבתים (כמו במערכות הכבלים) נקראות מערכות HFC (ראשי תיבות: [Hybrid Fiber Coax](http://en.wikipedia.org/wiki/Hybrid_fibre-coaxial)).מי שאחראי על הפיכת הממשק מאלקטרוני לאופטי (ולהפך) אלה ה Fiber nodes. מכיוון שרוחב הפס של הסיב יותר גדול מזה של הכבל הקואקסיאלי, כל צומת (Fiber nodes) מספקת מידע לכמה כבלים קואקסיאלים. ניתן לראות מערכת HFC כזו באיור (a) משמאל.

במהלך העשור האחרון, הרבה חברות כבלים החליטו להיכנס לעסקי האינטרנט (ISP) ואף לטלפוניה. אך היו כמה בעיות טכניות שהקשו עליהן את הכניסה החלקה, בראש ובראשונה, כל מגברי האות שהיו פועלים לצד אחד בלבד היו צרכים להיות מוחלפים בכאלה שעובדים לשני הצדדים (דו-כיווניים) כדי לתמוך בהעלאה בנוסף להורדה. בזמן שהם ביצעו את ההחלפה הזו לאורך כל הרשת, חברות הכבלים שכרו חיבורים מחברות הטלפוניה (על גבי רשת הטלפוניה כמובן) להעלאה בלבד.

אך ישנו שוני מהותי נוסף בין המערכת HFC באיור (a) משמאל, למערכת הטלפוניה באיור (b) משמאל שהרבה יותר קשה לפתרון. במערכת HFC, כבל אחד שעובר בשכונה מחולק לכל הבתים, בעוד במערכת הטלפוניה לכל בית יש את הלולאה מקומית (local loop) (זוג חוטים שזורים) אישיים. בעוד לשידור הפצה (Broadcast) זהו מצב מתאים באופן טבעי (כל התוכניות מופצות על הכבל, וזה לא משנה אם ישנם 10 צופים או 10,000 צופים), אך כשאותו הכבל משמש לחיבור לאינטרנט, זה משנה אם יש 10 משתמשים או 10,000. אם אחד המשתמשים מחליט להוריד קובץ גדול, רוחב הפס שאמור לשמש את השכנים (על אותו הכבל) קטן. תעשיית הכבלים פתרה את הבעיה הזו ע"י פיצול של כבלים ארוכים ופריסה של עוד כבלים קואקסיאלים באותו שטח, וחיבור של כל אחד מהם ישירות אל הצומת (fiber node). בדרך כלל צומת כזו מסוגלת לנהל כ-500 עד 2,000 בתים.

&nbsp;

**הקצאת ספקטרום**
ביטול כל ערוצי הטלוויזיה בכבלים, ושימוש של התשתית רק בשביל לספק גישה לאינטרנט, בטח יצור כמות מכובדת של לקוחות זועמים, ובגלל זה חברות הכבלים מהססות בנושא. בנוסף, רוב הערים מבצעות רגולציה כבדה על השימושים של הכבל ומה עובר בו. לכן ספק כבלים לא יורשה לעשות זאת, גם אם ירצה. כתוצאה מכך הם צרכים למצוא דרך לאינטרנט ולטלוויזיה להתקיים ביחד על אותו כבל (אותה תשתית).

<div class="left">
  <img src="/images/posts/the-physical-layer/Spectrum_Allocation.jpg" alt="Spectrum Allocation" style="width: 28rem">
</div>

הפתרון הוא לבנות ריבוב בחלוקת תדר. ערוצי הכבלים בצפון אמריקה עובדים על 54MHz &#8211; 550MHz (חוץ מרדיו FM), כל ערוץ ברוחב 6MHz (כולל מגני פס &#8211; guard bands), ויכול לשאת ערוץ טלוויזיה אנלוגי אחד או כמה ערוצי טלוויזיה דיגיטליים. באירופה הקצה התחתון הוא בערך ב 65MHz והערוצים הם ברוחב של 6-8MHz (בגלל הרזולוציה הגבוהה יותר שדורשים PAL ו SECAM), חוץ מזה הסכמה דומה. את סכמת החלוקה ניתן לראות באיור משמאל, וכמו שניתן לראות הערוצי העלאה הינם ברצועה 5-42MHz (קצת יותר גבוה באירופה) ובתדרים הגבוהים משתמשים להורדה.

שימו לב שמכיוון שכל האותות של הטלוויזיה הם בכיוון הורדה, ניתן להשתמש במגברי אות (amplifiers) להעלאה שעובדים רק בטווחים 5-42MHz ובמגברי אות להורדה שעובדים רק בטווחים 54MHz ומעלה. בנוסף, כדי לשדרג את המגברים, המפעילה צריכה לשדרג גם את ה headend, ממגבר "טיפש" למערכת מחשוב דיגיטלית בעלת סיב עם רוחב פס רחב כדי להתממשק עם ISP. לעיתים החברות שידרגו גם את השם מ headend ל [CMTS](http://en.wikipedia.org/wiki/Cable_modem_termination_system) (ראשי תיבות: Cable Modem Termination System).

&nbsp;

**מודם כבלים**
כמו שאנו יודעים, גישה לאינטרנט דורשת מודם, שמחובר מצד אחד למחשב ומהצד השני לרשת הכבלים (במקרה הזה). בימים הראשונים של האינטרנט על גבי רשת הכבלים, לכל ספקית היה כבל משלה למודם, שהותקן במיוחד ע"י טכנאי החברה. אך במהרה נראה היה כי סטנדרט פתוח ייצור תחרות גדולה יותר, יוריד את המחירים, יעודד שימוש נרחב יותר, ואף יגרום ללקוחות לרכוש את הכבלים בחנויות ולהתקינם באופן עצמאי (בדומה לשוק הראווטרים כיום).

בהמשך לכך, חברות הכבלים הגדולות שיתפו פעולה עם חברה הנקראת [CableLabs](http://www.cablelabs.com/) על מנת לייצר סטנדרט לכבלי מודמים ולבחון את המוצרים בתאמה לתקן. הסטדנרט אותו היא יצרה נקרא [DOCSIS](http://en.wikipedia.org/wiki/DOCSIS) (ראשי תיבות: Data Over Cable Service Interface Spcification). הגרסה הראשונה שלו (1.0) שוחררה בשנת 1997 ולאחריה יצאה הגרסה 2.0 בשנת 2001, התקן בגרסתו השניה התמקד בהגדלת קצבי העלאה על מנת לאפשר תמיכה טובה יותר בשירותים סימטריים (כמו טלפונית IP, או VoIP). והגרסה האחרונה של התקן, 3.0, ששוחררה ב-2006, עושה שימוש בפס רחב יותר כדי להגדיל את הקבצים בשני הכיוונים (העלאה והורדה).  
* את טבלת המהירויות של כל תקן ניתן לראות [כאן](http://en.wikipedia.org/wiki/DOCSIS#Speed_tables).  
** בנוסף, יש לציין כי קיים סטנדרט אירופאי מקביל הנקרא EuroDOCSIS.

ממשק המודם-למחשב הוא פשוט, בדרך כלל הוא מתבצע דרך חיבור Ethernet (ולפעמים דרך USB). לעומתו, הקצה השני (מהמודם-לרשת) מסובך הרבה יותר, והוא עושה שימוש ב FDM, TDM ו CDMA כדי לשתף את רוחב הפס בין המנויים. כשאנו מחברים כבל אתרנט מהשקע בקיר אל המודם, הוא סורק את זרם הנתונים המתקבל בערוץ ההורדה בחיפוש אחר מנה מיוחדת שמשודרת ע"י ה headend מפעם לפעם, כדי לספק את הפרמטרים של המערכת למודמים שהתחברו כרגע, וכשהמודם מוצא את המנה הזו, הוא (המודם החדש) מכריז על נוכחותו על גבי אחד מערוצי העלאה. ה headend מגיב ע"י ייעוד של ערוצי העלאה והקצאתם לאותו מודם (יש לציין כי ההקצאה יכולה להשתנות לאחר מכן אם ה headend יראה כי יש בכך צורך על מנת לאזן את העומס).

השימוש בערוצי 6MHz או 8MHz הוא חלק מריבוב ה FDM. כל מודם שולח מידע דרך הכבל שלו על גבי ערוץ העלאה אחד וערוץ הורדה אחד (או כמה ערוצים כאלו בגרסה 3.0). הסכמה הרגילה הינה לקיחה של כל ערוץ הורדה 6MHz (או 8) ולאפנן אותו עם QAM-64 (תרשים קונסטלציה בעל 64 שילובים של אמפליטודות ופאזות) או, אם איכות הכבל טובה באופן יוצא דופן QAM-256. עם ערוץ ברוחב 6MHz ובאפנון QAM-64 ניתן לשדר ב 36Mbps (כשמפחיתים מזה את התקורה נשאר לנו 27Mbps, וב QAM-256 לאחר התקורה נשאר 39Mbps).

להעלאה, יש יותר הפרעות RF (תדרי רדיו - Radio Frequency) מכיוון שהמערכת לא תוכננה במקור למידע, ורעש מכמה מנויים מתועל אל ה headend כך שדרושה סכמה שמרנית יותר. הסכמות כאן משתנו מ QPSK ועד ל QAM-128, כשכמה מהסמלים משמשים להגנת שגיאות בעזרת אפנון [Trellis Code](http://en.wikipedia.org/wiki/Trellis_modulation). לאחר מכן עושים שימוש ב TDM כדי לחלוק את רוחב הפס בהעלאה לשימוש של כמה מנויים. אחרת השידורים שלהם יתנגשו ב headend. הזמן מחולק למיני חריצים ומנויים שונים שולחים בחריצים שונים. כדי לגרום לזה לעבוד כל מודם קובע את המרחק שלו מה headend ע"י שליחה של מנה מיוחדת אל ה headend ורואה כמה זמן לוקח לו לקבל תשובה (תהליך זה נקרא [ranging](http://en.wikipedia.org/wiki/Ranging)). ה headend מכריז על תחילת סיבוב חדש של מיני חריצים, אך יריית הפתיחה הזאת לא נשמעת בכל המודמים באופן אחיד (באותו הזמן) בגלל המרחק שלהם מה headend וזמן ההגעה שדרוש למנה "לחלחל" בכבל. בכך שכל מודם יודע מה המרחק שלו מה headend, כל מודם יכול לחשב לפני כמה זמן המיני חריץ הראשון התחיל באמת. (מיני חריץ הוא תלוי אורך הרשת, מנה טיפוסית היא 8 בתים).

<div class="left">
  <img src="/images/posts/the-physical-layer/Upload_Download_Scheme.png" alt="Upload Download Scheme" style="width: 28rem">
</div>

בזמן האתחול, ה headend מקצה לכל מודם מיני חריץ לשימוש לשם בקשה לרוחב פס להעלאה. וכשהמחשב רוצה לשלוח מנה, הוא מעביר את המנה אל המודם, שמבקש את מס' המיני חריצים הדרושים לו. אם הבקשה התקבלה, ה headend שולח אישור למודם (בערוץ ההורדה) שאומר למודם איזה מיני חריצים שמורים למנה שלו. לאחר מכן המנה נשלחת מתחילת המיני חריץ הראשון השמור לה (ניתן לבקש מיני חריצים נוספים בשביל עוד מנות על גבי הכותרת (header) של המנה - ניגע בזה יותר בשכבות הבאות).

ככלל, מודמים מרובים יוקצו לאותו מיני חריץ, מה שיוביל להתנגשות, וישנם 2 דרכים שונות לטפל בזה: הראשונה היא שימוש בריבוב CDMA על מנת לחלוק את המיני חריץ. זה פותר את הבעיה כי כמו שאנחנו יודעים, בעזרת רצף קוד CDMA כל המנויים יכולים לשלוח מידע בו זמנית. הדרך השנייה היא לא ע"י שימוש ב CDMA, ובמקרה הזה לא יהיה אישור לבקשה בגלל ההתנגשות. במקרה הזה המודם מחכה זמן אקראי ומנסה לשלוח שוב, אם הוא מצליח-מה טוב, אם לא-הוא מחכה זמן כפול מהזמן האקראי שחיכה מוקדם (למי שכבר מכיר, האלגוריתם הזה הוא פשוט ALOHA מחורץ עם השהייה בזמן מעריכי).

ערוצי ההורדה מנוהלים באופן שונה מערוצי העלאה. כהתחלה, יש רק שולח אחד (ה headend), כך שלא יכולה להיווצר התנגשות ואין צורך במיני חריצים (ריבוב בחלוקת זמן - TDM). בנוסף, התנועה על גבי ערוצי ההורדה היא לרוב גדולה הרבה יותר מערוצי העלאה, לכן יש שימוש במנה בעלת גדול קבוע - 204 בתים (כשבחלק ממנה נעשה שימוש בקוד תיקון טעויות [Reed-Solomon](http://en.wikipedia.org/wiki/Reed%E2%80%93Solomon_error_correction) ועוד תקורה לשימושים שונים, מה שמשאיר 184 בתים).

&nbsp;

### לסיכום

השכבה הפיזית היא הבסיס לרשת כולה. הטבע מטיל שתי מגבלות מהותיות על כל הערוצים, ואלו קובעות את רוחב הפס שלהם. המגבלות האלו הן חסם נייקוויסט (המטפל בערוצים ללא רעש) וחסם שנון (המטפל בערוצים בעלי רעש).

תמסורת (בעברית: תווך) יכולה להיות מודרכת או לא מודרכת. התמסורות המודרכות (או חסומות) העיקריות הם חוטים שזורים, כבל הקואקסיאלי, וסיבים אופטיים. בעוד תמסורות לא מודרכות כוללות: גלי רדיו, גלי מיקרו-גל, אינפרא אדום, לייזרים (על גבי האוויר), ולווינים.

שיטות אפנון דיגיטליות שולחות ביטים על גבי תמסורות מודרכות ולא מודרכות כאותות אנלוגיים. קוי קוד פועלים ב baseband, ואתות יכולים להיות ממקומים על גבי passband בעזרת אפנון האמפליטודה, תדר, והפאזה. בנוסף, ערוצים יכולים להיות משותפים בין משתמשים עם ריבוב בחלוקת זמן, תדר, וקוד.

הרכיב העקרי של מערכות הטלפוניה ברמת WAN אלה הלולאות המקומיות (local loops), צמתי trunks, והמתגים. ADSL מציע מהירות של עד 40Mbps על גבי לולאות מקומיות. ו PON מביא את הסיב עד לבית (הק"מ האחרון) ומספק מהירויות גבוהות עוד יותר. ה Trunks מעבירים מידע דיגיטלי. הם מאופננים בעזרת WDM כדי לספק מספר רב קישורים בעלי יכולת גבוהה על גבי סיבים אחדים, כמו כן הם גם מרובבים בעזרת TDM כדי לשתף כל קישור כזה בין כמה משתמשים.

טלפונים ניידים נמצאים היום בתפוצה רחבה לשם תקשורת קול, ומידע (תחום שהולך וגדל), והם עברו 3 דורות. הדור הראשון, 1G, היה אנלוגי ונשלט ע"י AMPS. הדור השני, 2G, היה דיגיטלי כש GSM היה הנפוץ ביותר. והדור השלישי, 3G, גם הוא דיגיטלי ומבוסס על CDMA, ועושה שימוש ב WCDMA וב CDMA2000.

מערכת חלופית לגישה לאינטרנט היא מערכת הכבלים. היא התפתחה מתשתית של כבל קואקסיאלי לתשתית המשולבת סיב אופטי וכבל קואקסיאלי, ומטלוויזיה לטוויזיה ואינטרנט. באופן פוטנציאלי היא מציעה רוחב פס גבוהה, אך רוחב הפס הזה מחולק עם שאר המשתמשים ולכן המהירות תלויה באופן רב בכמות המשתמשים המחוברים לרשת זו.

מקווה שהצלחתי לחדש דבר או שניים, ואפילו (למי שכבר מכיר) להוריד כמה אסימונים. השתדלתי לכתוב כמה שיותר (אך לא שלא לצורך), להרחיב ולפשט הסברים מסובכים, ואם יש שאלות אשמח לענות עליהן בתגובות.
