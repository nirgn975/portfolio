---
title: מחסנית (Stack)
author: nirgn
layout: post
category: Data Structures
---
[<img class="alignleft wp-image-1045" src="http://www.lifelongstudent.net/wp-content/uploads/2013/04/DataStructures.png" alt="Dataֹׁ Structures" width="350" height="227" srcset="http://www.lifelongstudent.net/wp-content/uploads/2013/04/DataStructures.png 400w, http://www.lifelongstudent.net/wp-content/uploads/2013/04/DataStructures-300x194.png 300w" sizes="(max-width: 350px) 100vw, 350px" />](http://www.lifelongstudent.net/wp-content/uploads/2013/04/DataStructures.png)מחסנית (באנגלית: Stack), הינו מבנה נתונים מופשט הפועל בצורה דומה למחסנית של רובה.

<span style="text-decoration: underline;">למה הכוונה "<strong>מבנה נתונים מופשט</strong>"?</span>

ז"א שמבנה הנתונים הינו מבנה לוגי (בניגוד למערך בו קיימת רציפות פיסית בזיכרון). בנוסף, מבנה הנתונים עושה שימוש ברעיון של מבנה נתונים קיים, אך מייצג אותו באופן שונה (נהוג להגיד: מודל מתמטי שונה עבור מבנה נתונים בעל התנהגות דומה). מבנה הנתונים הנ"ל הינו ייצוג שונה של מבנה הנתונים מערך, שאותו כבר הכרנו (ניתן לייצגו גם ע"י רשימה מקושרת).

<!--more-->

&nbsp;

על מנת להבין כיצד עובד המבנה נהוג לייצר מחסנית (לאורך כמובן) כמו בציור מצד שמאל.  
<img class="alignleft wp-image-1208" src="http://www.lifelongstudent.net/wp-content/uploads/2014/02/Stack.png" alt="Stack" width="300" height="216" />בנוסף, אולי מיותר לציין, כי מבנה הנתונים עובד בשיטת <a href="https://en.wikipedia.org/wiki/LIFO_(computing)" target="_blank">LIFO</a> (ראשי תיבות: Last In First Out), ז"א שבדיוק כמו במחסנית, האיבר האחרון שנכנס הוא הראשון שיוצא (או הראשון שנכנס הוא האחרון לצאת).

למבנה הנתונים מחסנית יש כמה פעולות בסיסיות שאיתן עובדים, את הפעולות הנ"ל יש לממש, ולכן כעת, נראה את הפעולות, מה הן אמורות לעשות, ואת המימוש שלהן ב<a href="http://en.wikipedia.org/wiki/Pseudocode" target="_blank">פסאודו קוד</a>.

&nbsp;

<span style="text-decoration: underline;">הפעולות הבסיסיות:</span>  
**דחיפה &#8211;** הכנסת איבר חדש (לראש) המחסנית.  
קוד:

<pre class="lang:default decode:true">PUSH (S, x)
top[S] &lt;- top[S] + 1
S[top[S]] &lt;- x</pre>

  * S הוא שם המחסנית.
  * x הוא האיבר החדש שאותו אנו מכניסים למחסנית.
  * top הוא מצביע, המצביע על האיבר האחרון במחסנית.
  * נגדיל את top באחד (כדי שהמחסנית תכיל עוד תא).
  * נכניס את x ל top החדש.

&nbsp;

**שליפה &#8211;** הוצאת האיבר (מראש) המחסנית.  
קוד:

<pre class="lang:default decode:true">POP (S)
if (EMPTY (S))
    then error "underflow"
else top[S] &lt;- top[S] - 1
    return S[top[S] + 1]</pre>

  * S הוא שם המחסנית.
  * אם המחסנית ריקה, נחזיר הודעת שגיאה.
  * אחרת (ז"א שאינה ריקה), נזיז את top אחד אחורה (ז"א ש top יצביע על הערך שלפני האחרון. וכך בעצם הקטנו את המחסנית).
  * ונחזיר את top ועוד 1 (ז"א הערך שהוצאנו בסעיף למעלה מחוץ למחסנית).

&nbsp;

<span style="text-decoration: underline;">בנוסף,נדגים את פעולות השינוי Pop ו Push:</span>

[<img class="aligncenter wp-image-1216" src="http://www.lifelongstudent.net/wp-content/uploads/2014/02/Push__Pop_Example.png" alt="Push & Pop Example" width="800" height="126" />](http://www.lifelongstudent.net/wp-content/uploads/2014/02/Push__Pop_Example.png)

מימוש המחסנית S מתבצע באמצעות מערך. איברי המחסנית מופיעים רק במשבצות הבהירות. (i) המחסנית S מכילה 4 איברים; האיבר הנמצא בראשה הוא 9. (ii) המחסנית S אחרי הקריאות (PUSH(S,17 ו (PUSH(S,3. בשלב הבא, (iii), המחסנית S אחרי הקריאה (POP(S החזירה את האיבר 3, שהוא האיבר האחרון שהוכנס למחסנית. על אף שהאיבר 3 עדיין מופיע במערך, הוא אינו שייך עוד למחסנית; בראש המחסנית נמצא האיבר 17. (כל אחת מהפעולות האלו מתבצעת בזמן ריצה (O(1).

&nbsp;

<span style="text-decoration: underline;">לפעמים (בעיקר בשביל הנוחות), מוגדרות על מחסנית פעולות נוספות:</span>  
**האם ריקה? &#8211;** הפעולה מחזירה true או false אם המחסנית ריקה או לא (בהתאמה).  
קוד:

<pre class="lang:default decode:true">EMPTY (S)
if (top[S] = 0)
    return True
else return False</pre>

  * S הוא שם המחסנית.
  * אם [top[S ריק (ז"א שווה 0), אז אין איברים במחסנית, ולכן מחזירים true.
  * אחרת נחזיר false.

&nbsp;

**הצצה &#8211;** פעולה המחזירה את ערכו של האיבר בראש המחסנית (מבלי להוציאו מהמחסנית). [top[s משמש כאינדקס של האיבר האחרון שהוכנס.  
קוד:

<pre class="lang:default decode:true">STACK-TOP (S)
if EMPTY(S)
    then error "underflow"
return S[top[S]]</pre>

  * S הוא שם המחסנית.
  * נבדוק האם המחסנית ריקה, במידה וריקה נחזיר הודעת שגיאה.
  * כל עוד המחסנית אינה ריקה, מחזירים את הערך במחסנית (/מערך) S במקום top.

&nbsp;

## <span style="text-decoration: underline;"><strong>לסיכום</strong></span>

אלה הן הפעולות הבסיסיות וקצת מעבר על מבנה הנתונים מחסנית. המחסנית ממומשת, לרוב, באמצעות מערך, אך גם ניתנת למימוש באמצעות רשימה מקושרת, ובשפות תוכנות מסויימות גם באמצעות רשימה. למחסנית יש המון שימושים ויישומים בפועל, ונחשבת למבנה נתונים בסיסי.

בנוסף, יש לציין כי מצב בו מבוצעת פעולת שליפה על מחסנית ריקה מכונה חמיקה (Underflow) ונחזיר בו הודעת שגיאה, מנגד מצב בו [top[S גדול מ n מכונה גלישה (Overflow), ובפסאודו-קוד שלעיל לא טיפלנו במצבים אלה.
