---
title: הקדמה
author: nirgn
layout: post
summary: ""
category: UNIX
---
מה זה יוניקס?

מערכת הפעלה יוניקס (Unix) זה ערכת תוכנות הפועלות כקישור בין המחשב (החומרה) למשתמש. תוכנות המחשב שמקצות את משאבי המערכת ומתאמות את הפרטים הפנימיים של המחשב נקראות הליבה של מערכת ההפעלה, או Kernel. המשתמשים מתקשרים עם ה Kernel בעזרת תוכנית הנקראת Shell (בלינוקס הוא נקרא Bash, ראשי תיבות של Bourne Again SHell). ה Shell מתרגם את הפקודות שהמשתמש כותב (במידה והן חוקיות כמובן) לשפה שהקרנל (Kernel) יבין, הקרנל בתורו מתרגם את הפקודה לשפה אותה החומרה עצמה תבין.

יוניקס פתוחה במקור בשנת 1969 ע"י קבוצת עובדי AT&T במעבדות בל (Bell Labs). הקבוצה כללה את קן תומפסון, דניס ריצ'י, דאגלס מקלרוי, וג'ו אוסנה.
קיימות מספר גרסאות למערכת Unix כמו Solaris, AIX, HP Unix, ו BSD. גם לינוקס (Linux) היא גרסת יוניקס.
אחד הדגשים במערכת יוניקס הוא השימוש במחשב ע"י כמה משתמשים בו זמנית (מכאן השם 'מערכת מרובת משתמשים' נדבק ליוניקס). וכמובן שגם כל משתמש יכול להפעיל כמה תוכניות בו זמנית (ריבוי-משימות).


ארכיטקטורת המערכת

Unix Architectureלהלן (בתמונה משמאל) דיאגרמה בסיסית של מערכת יוניקס.

הרעיון המרכזי המאחד את כל גרסאות יוניקס הוא ארבעת היסודות הבאים:

Kernel - הקרנל הוא הלב של מערכת ההפעלה. הוא מקיים אינטראקציה עם החומרה, ועם רוב המשימות כמו ניהול הזיכרון, תיזמון משימות, וניהול קבצים.
Shell - הוא הכלי שמעבד את בקשות המשתמש. כאשר המשתמש מקליד פקודה ב Terminal (שזוהי מעטפת גרפית ל Bash, שהוא בעצם סוג של Shell, ה Shell בינוקס), ה Shell מפרש את הפקודה וקורא לתוכנה שאנו רוצים. ה Shell משתמש בתחביר סטנדרטי לכלל הפקדות, אך קיימים כמה סוגים של Shellים, המפורסמים הם: C Shell, Bourne Shell, ו Korn Shell, שהם זמינים ברוב הגרסאות של יוניקס.
פקודות וכלי עזר - קיימות מגוון פקודות ושירותים בהם אנו משתמשים בפעילויות היום יומיות השונות (נגיע אליהן, אך כטעימה קטנה מדובר על הפקודות cp, mv, cat, grep וכד'). ישנם יותר מ-250 פקודות סטנדרטיות ואלפי פקודות נוספות מתוכנות צד שלישי.
קבצים וספריות - כל הנתונים ב Unix מאורגנים בקבצים, וכל הקבצים מאורגנים בספריות. הספריות האלו מאורגנות במבנה נתונים מסוג עץ הנקרא 'מערכת קבצים'.


הבסיס

אתחול המערכת

בעיקרון, אם יש לנו מחשב עליו מותקנת מערכת Unix כלשהי, כל שאנחנו צריכים זה להדליק אותו ולאחר שהיא תעלה המערכת תבקש / תנחה אותנו להתחבר. במערכת לינוקס, בה אני משתמש ביום יום, ישנו ממשק גרפי הדורש ממני לתחבר, ולא שורת פקודה (רק לאחר שאני מתחבר למשתמש אני מפעיל את הטרמינל (Terminal - המעטפת הגרפית ל Bash). אך בזמן עבודתי בחברת סלקום השתמשתי ביום יום במערכת HP Unix (זאת המערכת בה הם משתמשים במתגים), כשפתחתי את שורת הפקודה הדבר הראשון שהופיע לי הוא:

login:
 מכאן כל שעלי היה לעשות הוא להקליד את שם המשתמש שלי (שניתן לי ע"י מנהל המערכת), ללחוץ על אנטר. לאחר מכן תופיע שורה המנחה אותי להכניס את הסיסמה שלי, נכניס אותה ונלחוץ על אנטר. יש לציין כי שם המשתמש והסיסמה רגישים לאותיות קטנות / גדולות, אז שימו לב שאתם מקלידים אותם בדיוק כפי שהם ניתנו לכם ע"י מנהל המערכת. לאחר שתתחברו המערכת תכתוב לכם מתי הייתה ההתחברות האחרונה שלכם (יום בשבוע, חודש, תאריך, שעה מדוויקת, שנה. וגם מאיזה כתובת IP).

לאחר שהתחברתם יופיע לכם בשורת הפקודה הסימן $ (דולר), שם (אחריו) תקלידו את כל הפקודות (כמו cal שתראה לנו את היום בשבוע):

$ cal
         Jan 2015
Su Mo Tu  We Th  Fr  Sa
                           1    2    3
  4    5    6    7    8    9  10
11  12  13  14  15  16  17
18  19  20  21  22  23  24
25  26  27  28  29  30  31

$


שינוי סיסמה

כל משתמש במערכת Unix מחוייב בסיסמה (גם מנהל המערכת). יתכן ותרצו לשנות אותה מתישהו, ובמקום העבודה כנראה שתחוייבו להחליפה באופן קבוע כל כמה שבועות / חודשים. על מנת לעשות זאת יש לכתוב את הפקודה passwd בשורת הפקודה. לאחר מכן יש להכניס את הסיסמה הישנה (וללחוץ על אנטר). אז תתבקשו להכניס את הסיסמה החדשה, ושוב לכתוב אותה כדי לבצע אימות. כל התהליך אמור להיראות כך:

$ passwd
Changing password for nirgn
(current) Unix password:********
New UNIX password:**********
Retype new UNIX password:**********
passwd: all authentication tokens update successfully

$
 שימו לב שהכוכביות הם רק לצורך הדגמה. במציאות המערכת לא תראה לכם דבר (לא כוכביות, לא את מה שאתם כותבים, אפילו הסמן לא יזוז).



קבצים וספריות

כמו שאמרנו, כל המידע במערכות Unix מאורגן בקבצים, וכל הקבצים מאורגנים בתוך ספריות. הספריות האלו מאורגנות במבנה נתונים בצורת עץ, הנקרא מערכת קבצים. כדי לראות את כל הקבצים והספריות בתוך ספריה כלשהי, ניתן להשתמש בפקודה ls (כתיבת הפקודה תראה לנו את הספריות והקבצים הנמצאים בספרייה שבה אנו נמצאים כעת). נציין כי לפקודות מסויימות יש אופציות שונות, לדוגמה, הפקודה ls מציגה רק את שם הקובץ, אך אם נכתוב ls -l נקבל את סוג הקובץ, ההרשאות, מס' הקישורים הקשים, הבעלים, הקבוצה, הגודל, התאריך האחרון בו שונה, ולבסוף גם את שם הקובץ. להלן דוגמה:

$ ls
uml
uml.jpg
univ
bla
blabla.tar
usr
webthumb.tar
yourfile.swf

$ ls -l
total 19621
drwxrwxr-x  2 nirgn      nirgn975      4096  Jan  25  09:59  uml
-rw-rw-r--     1 nirgn      nirgn975      5341  Jan  25  08:38  uml.jpg
drwxr-xr-x    2 nirgn      nirgn975      4096  Jan  15   2013  univ
drwxr-xr-x    2 root        root              4096  Dec    9  2014  bla
-rw-r--r--       1 root        root          276480  Dec    9  2014  blabla.tar
drwxr-xr-x    8 root        root              4096  Nov  25  2014  usr
-rw-rw-r--     1 nirgn      nirgn975    20480  Nov  25  2014  webthumb.tar
-rw-rw-r--     1 nirgn      nirgn975  166255  Aug    9  2014  yourfile.swf

$
 שימו לב שרשומות שהינן ספריות מסומנות באות d בהתחלה (קיצור של directory) (האות הראשונה - זה נראה חלק מההרשאות).



יציאה

כשאתם מעוניינים לצאת מהמערכת, כל שיש לעשות הוא לכתוב את הפקודה logout. המערכת תנקה את הכל ותפסיק את החיבור (של המשתמש). על מנת לכבות את המערכת יש לכתוב shutdown, וכדי לאתחל אותה מחדש יש לכתוב reboot.



מנהל הקבצים

לאחר שהבנו את הבסיס, אפשר להתחיל לצלול קצת יותר לעומק. נתחיל במערכת הקבצים, כיצד היא בנויה ומנוהלת. כשאנו עובדים במערכת הפעלה כלשהי, סביר להניח שאנו מבלים חלק נכבד מהזמן בלעבוד עם קבצים. במערכת Unix יש 3 סוגים בסיסיים של קבצים:

קבצים רגילים - קובץ רגיל הוא קובץ במערכת שמכיל מידע, טקסט, או תוכנית כלשהי.
ספריות - ספריות מאחסנות קבצים רגילים ומיוחדים. למשתמשים המגיעים מעולם ה Windows או ה Mac, ספריות הם המקבילה לתיקיות.
קבצים מיוחדים - ישנם קבצים מיוחדים המספקים גישה לחומרה (כמו כוננים קשיחים, כונני CD/DVD, מודמים, מתאמי אתרנט וכד'). קבצים מיוחדים אחרים הם קיצורי דרך, או כינויים (Aliases, נדבר על כך בהמשך), מה שמאפשר לנו לגשת לקובץ אחד בעזרת שמות שונים.


רישום קבצים

כמו שכתבנו כבר, על מנת לקבל רשימה של הקבצים והספריות המאוחסנות בספרייה הנוכחית (בה אנו נמצאים כעת) נשתמש בפקודה ls, וכדי לקבל יותר מידע על הקבצים והספריות ברשימה נכתוב ls-l. כאשר הטור הראשון מייצג את סוג הקובץ, וההרשאות של מי יכול לעשות מה עם הקובץ הזה (נדבר על זה בהרחבה בהמשך). הטור השני מייצג את מספר גושי הזיכרון הקובץ או הספרייה מחזיקים. הטור השלישי מייצג את הבעלים של הקובץ (משתמש ה Unix שייצר אותו). הטור הרביעי מייצג את הקבוצה של הבעלים (לכל משתמש יש קבוצה אליה הוא משוייך. שוב, נרחיב על כך בהמשך). הטור החמישי מייצג את גודל הקובץ בבתים (bytes). הטור השישי מייצג את התאריך והשעה בו נוצר הקובץ או שונה בפעם האחרונה. ואחרון, הטור השביעי מייצג את שם הקובץ (או הספרייה).

בדוגמה למעלה בטור הראשון, כל סוגי הקבצים מיוצגים ע"י האות d או - (בהתחלה של הטור הראשון). וכמו שאמרנו זה מה שמייצג את סוג הקובץ (ולאחריו אלו ההרשאות). אך ישנה רשימה של תווים המייצגים סוגים שונים של קבצים:

- : קובץ רגיל כגון קובץ ASCII טקסט, או קישור קשה.
b : קובץ חסום מיוחד. הכוונה היא לחסום פלט / קלט, כמו התקן כונן קשיח פיזי.
c : קובץ תווים מיוחד. קובץ פלט / קלט גולמי.
d : קובץ ספרייה המכיל רשימה של קבצים וספריות אחרות.
l : קישור סמלי לקובץ (קישורים לכל קובץ רגיל).
p : צינור שמי (משמש כמנגנון FIFO לתקשורת בין תהליכים).
s : סוקט המשמש לתקשורת בין ממשקים.


תווי Meta

תווי מטא הם תווים עם משמעות מיוחדת (במקום משמעות מילולית). לדוגמה * (כוכבית) ו ? (סימן שאלה) הם תווי מטא, כאשר בכוכבית אנו משתמשים כדי לסמן / לייצג 0 או יותר תווים, וסימן שאלה מייצג תו אחד בלבד. ז"א שאם נכתוב ls ch*.doc נקבל כתוצאה את כל קבצי ה doc שבספרייה בה אנו נמצאים, המתחילים ב ch ולאחר מכן מספר תווים לא מוגבל. ואם נכתוב את הפקודה ls *.doc נקבל את כל הקבצים בעלי סיומת doc בספרייה בה אנו נמצאים.

$ ls *.doc
chapter 3 practice.doc
Binary.doc
YN.doc


קבצים מוסתרים

קובץ מוסתר הוא כזה שהתו הראשון שלו הוא . (נקודה). תכנות ביוניקס (כולל ה shell עצמו) משתמשים בסוגי קבצים אלו כדי לשמור מידע על ההגדרות והעדפות המשתמש הקשורות לאותה תוכנה. כמה דוגמאות פופלריות של אותם קבצים מוסתרים הם profile. בו משתמש ה Broune shell כדי לאחסן את תסריט האתחול שלו, או rhosts. בו משתמש ה shell המרוחק כדי לשמור את ההגדרות שלו, וכד'.

כדי להציג קבצים מוסתרים נכתוב ls -a. כאשר נקודה אחת תציג לנו את הקבצים בספרייה הנוכחית, ו-2 נקודות יציגו לנו את ספריית האב.

$ ls -a

.               .profile       docs    lib         test_results
..              .rhosts       hosts   pub       users
.emacs    bin             hw1     res.01   work
.exrc       ch07           hw2     res.02
.kshrc      ch07.bak  hw3     res.03
$


הצגה, יצירה, ועריכת קבצים

בכל מערכת יוניקס שהיא, ניתן להשתמש בעורך vi על מנת ליצור קבצים בעזרת הפקודה vi fileName. הפקודה תפתח מסמך עם השם fileName (או כל שם אחר שנתתם במקומו). על מנת להגיע למצב עריכה יש ללחוץ על i, וכשנכנסתם למצב עריכה ניתן, כמובן, להתחיל לכתוב את תוכן המסמך. ברגע שנסיים נוכל ללחוץ על Esc על מנת לצאת ממצב עריכה ו / או על Shift + zz על מנת לצאת מהמסמך לגמרי. המסמך ישמר כמובן בספרייה הנוכחית (הספרייה בה אתם נמצאים כעת).

עריכת קובץ קיים מתבצעת גם היא בעזרת עורך ה vi. בהמשך נרחיב על כך יותר, אך בקצרה אנו נפתח את הקובץ כאילו הוא קובץ חדש (ע"י כתיבת הפקודה vi fileName). ברגע שהמסמך נפתח אנו יכולים להיכנס למצב עריכה ע"י לחיצה על i ולאחר מכן לערוך את המסמך. על מנת להזיז את הסמן יש לצאת ממצב עריכה (בעזרת לחיצה על Esc) ולאחר מכן לחיצה על l תזיז את הסמן ימינה, h שמאלה, k למעלה, ו j למטה. ולבסוף, גם השמירה מתבצעת באופן זהה (Shift + zz).

כדי לצפות בתוכן הקובץ ניתן להיעזר בפקודה cat שתציג את תוכן הקובץ (התוכן יוצג בטרמינל, ולא ניתן לערוך אותו). אך זה לפעמים מבלבל לקרוא את התוכן באופן רציף, לכן אני אוהב להציג גם את מס' השורה ע"י הוספת האות b לפקודה, כך: cat -b fileName. ולהלן התוצאה שתתקבל:

$ cat -b fileName
1   This is a UNIX file..
2   We see it in the Shell, and with line numbers it's the best!
$
 אם נרצה לספור את מספר השורות, מילים, תווים (בהתאמה) בקובץ נשתמש ב wc ולאחריו שם הקובץ. כאמור העמודה הראשונה תציג את מספר השורות בקובץ, העמודה השניה תציג מס' המילים הכולל בקובץ, העמודה השלישית תציג את מס' התווים בקובץ, ולבסוף, העמודה הרביעית תציג את שם הקובץ. נציין כי ניתן לבקש בו זמנית להציג את המידע הנל למספר קבצים, כך:

$ wc fileName1 fileName2 fileName3


מניפולציות על קבצים

כחלק מהעבודה שלנו עם קבצים אנו נדרשים להעתיק, למחוק, ולשנות להם שם מידי פעם. על מנת להעתיק קובץ כלשהו נשתמש בפקודה cp, אחריה נכתוב את קובץ המקור (אותו אנו רוצים להעתיק) ואחריו את היעד (הספרייה בה אנו רוצים שימצא הקובץ המועתק).

ב Unix לא ניתן לשנות את שם הקובץ של קובץ ספציפי, אך כדי להתחכם ולעשות זאת בכל זאת אנו משתמשים בפקודה mv (שמשמשת להעביר קובץ ממקום למקום), ובאותו פורמט כמו עם cp נכתוב את השם של קובץ המקור, ואחריו את השם החדש אליו אנו רוצים לשנותו. הפקודה תזיז את תוכן הקובץ לקובץ חדש בשם החדש שנתנו לו (על מנת להזיז את הקובץ בלי לשנות את שמו אנו כותבים את אותו השם (השם המקורי) היכן שיש לכתוב את השם החדש, רק שאנו מכניסים גם את הנתיב החדש בו אנו מעוניינים שיימצא).

על מנת למחוק קובץ כלשהו נשתמש בפקודה rm ולאחריה נכתוב את שם הקובץ שברצוננו להסיר.

$ cp fileName \home\fileName
$ cp fileName copyFile
$ mv fileName newFileName
$ rm fileName
למעלה ישנה דוגמה להעתקת קובץ מספרייה לספרייה, לאחר מכן העתקת קובץ באותה ספרייה אך עם שם שונה (התוכן עדיין יהיה זהה), לאחר מכן החלפת שם לקובץ קיים, ולבסוף מחיקה של קובץ כלשהו.



ספריות

ספרייה היא קובץ שכל התפקיד שלו הוא לאחסן שמות קבצים אחרים ומידע רלוונטי.
